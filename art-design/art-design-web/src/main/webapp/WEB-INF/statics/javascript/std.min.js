/**
    Standard Javascript Library v0.2
    http://www.StdJS.com
*/
!function(e,t,r,n,i,o,a,s,u,c,l,f,h){var d,p,m,v,g,y,b,k,x,w,_,S,T,C,F,A,z,E,L,H,N,B,D,W,M,P=c.Std=function(e,t){return t===h&&r(e)?P.modules[e]||f:P.create.apply(this,arguments)};P.version=.2,P.models={},P.modules={},P.eval=function(e){var t=c&&c.eval;return t?t(e):new Function(e)()},P.configs=d=function(e,t){if(n(e))for(var i in e)d(i,e[i]);else if(r(e)){if(t===h)return d[e];d[e]=t}},d({template:{cache:!0,escape:!1,syntaxLevel:3,maxCacheSize:10,compressLevel:1},cssSelector:{cache:!0,maxCacheSize:50},dom:{enableScript:!0}}),p=P.debug=function(){var e=c.console;if(e){for(var t=0,r=arguments.length;r>t;t++)e.log(arguments[t]);return P}var n=Array.prototype.join.call(arguments,"\n");if(!e)throw new Error(n);return e.error(n),P},P.init=function(){var e,t,n,i,o="opacity",a={on:n={},cssName:i={}},s=function(e){return l.createElement(e)};return!function(){var u=s("a"),c=u.style,f="animation",h="keyframes";u.innerHTML="  <link/><table></table><script>;</script>",c.cssText="top:1px;float:left;"+o+":.5;",e=a.css={inlineBlock:!0,opacity:/^0.5/.test(c[o]),cssFloat:!!c.cssFloat},t=a.dom={dataset:!!u.dataset,tbody:!u.getElementsByTagName("tbody").length,innerFullHTML:3!==u.firstChild.nodeType,outerHTML:!!u.outerHTML,htmlSerialize:!!u.getElementsByTagName("link").length,contains:!!u.contains,compareDocPos:!!u.compareDocumentPosition,cloneBug:""==u.lastChild.cloneNode(!0).innerHTML};for(var d=["submit","focusin","change"],p=0,m=d.length;m>p;p++){var v=d[p],g="on"+v;(n[v]=g in l)||(u.setAttribute(g,"t"),n[v]=u.attributes[g].expando===!1)}for(var y in c){var m=y.length;if(r(y)&&y.toLowerCase().substring(m-9)===f){y=y==f?"":"-"+y.substr(0,m-9)+"-",a.anim=y+h,i.animation=y+f;break}}}(),!function(){var t=a.platformPrefix={Khtml:"-khtml-",O:"-o-",MS:"-ms-",Moz:"-moz-",WebKit:"-webkit-"},r="",n=c.getComputedStyle;if(n){for(var o=c.getComputedStyle(l.documentElement,""),s=0,u=o.length;u>s;s++){var f=o[s],h="";if("-"===f.charAt(0))for(var d in t){var p=t[d];0==f.indexOf(p)&&(""===r&&(r=p),h=f.substring(p.length),-1!=h.indexOf("-")&&(h=h.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}).toString()),i[h]=f)}}e.prefix=r}}(),a}(),m=P.each=function(t,r,n,o){var a=f,s=typeof t;if(!t||!e(r))return f;if("string"===s&&(t=t.split(o===h?" ":o)),i(t)){n===!0&&(a=[]);for(var u=0,c=t.length;c>u;u++){var l=r.call(t,u,t[u]);if(l!==h){if(n!==!0)return l;a.push(l)}}}else if("object"===s||"function"===s){n===!0&&(a={});for(var d in t){var l=r.call(t,d,t[d]);if(l!==h){if(n!==!0)return l;a[d]=l}}}return a},v=P.extend=function(t,r,o,a){if(!t||!n(r)&&!e(r))return t;var s="__Std__";switch(o){case 1:for(var u in r)if(u!==s){var c=r[u],l=t[u];i(c)&&i(l)?t[u].merge(c):t[u]=c}break;case 2:for(var u in r){var c=r[u],l=t[u];c!==r&&u!==s&&(t[u]=n(c)&&n(l)&&!i(c)&&!i(l)?v(l,c,2):c)}break;case 3:for(var u in r){var c=r[u],l=t[u];c!==r&&u!==s&&(i(c)&&i(l)?t[u].mergeArray(c):t[u]=n(c)&&n(l)&&!i(c)&&!i(l)?v(l,c,3):c)}break;default:for(var u in r)a===!1&&u in t||u!==s&&(t[u]=r[u])}return t},v(Math,{over:function(e,t){return 0===t?0:e/t},rand:function(e,t){return e=t===h?Math.random()*e:Math.random()*(t-e)+e}}),v(Array,{from:function(e){var i,o=e.length;if(n(e))if(i=[],t(o))for(var a=0;o>a;a++)i[a]=e[a];else for(var s in e)i.push(e[s]);else r(e)&&(i=e.split(""));return i}},0),v(Array.prototype,{indexOf:function(e,t){var r=this,n=r.length;for(t=t===h?0:t;n>t;t++)if(e===r[t])return t;return-1},unique:function(){for(var e=this,t=e.length,r=[],n=0,i=0;t>i;i++)-1==r.indexOf(e[i])&&(r[n++]=e[i]);for(var o=0;n>o;o++)e[o]=r[o];return e.length=n,e},mergeArray:function(e,t){var r=this;if(n(e))for(var i=e.length||0,o=0;i>o;o++)t===!0&&r.exist(e[o])||r.push(e[o]);return r},order:function(e){var t=f;return"asc"===e?t=function(e,t){return e>t}:"desc"===e&&(t=function(e,t){return t>e}),this.sort(t)},remove:function(e){var t=this;return e===h?t.length=0:(t[e]=f,t.splice(e,1)),t},merge:function(){for(var e=0,t=arguments,r=t.length;r>e;e++)this.mergeArray(t[e]);return this},union:function(){for(var e=0,t=arguments,r=t.length;r>e;e++)this.mergeArray(t[e],!0);return this},push_uniq:function(e){var t=this;return t.exist(e)||t.push(e),t},exist:function(e){return-1!==this.indexOf(e)},each:function(e,t,r){return m.call(this,this,e,t,r)},clear:function(){return this.remove()}},0,!1),v(String.prototype,{trim:function(){return this.replace(/(^\s*)|(\s*$)/g,"")},left:function(e){return this.substr(0,e)},right:function(e){return this.substring(this.length-e)},isNumber:function(){return w.number(this)},byteLen:function(){for(var e=this,t=e.length,r=t-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&2047>=n?t++:n>2047&&65535>=n&&(t+=2)}return t},capitalize:function(){return this.charAt(0).toUpperCase()+this.substr(1)},between:function(e,t,r){var n=this,i=n.indexOf(e,r),o=n.indexOf(t,i+e.length);return-1===i||-1===o?f:n.substring(i+e.length,o)},reverse:function(){for(var e="",t=this.length-1;t>=0;t--)e+=this.charAt(t);return e},toObject:function(){var e=this.trim();if(e.length<2)return f;var t=e.charAt(0),r=e.substring(e.length-1);return"["==t&&"]"==r||"{"==t&&"}"==r?new Function("return "+e)()||f:f},count:function(e){var t=0,r=this,n=-1;if(e===h)return r.length;for(;-1!=(n=r.indexOf(e,n+1));)t++;return t},line:function(e,t){var r=0,n=this.toString(),i=-1;do if(++r===e){var o=n.indexOf("\n",i+1);return t===!0?i+1:n.substring(i,o)}while(-1!=(i=n.indexOf("\n",i+1)));return n},camelCase:function(e){var t=this;return e===!0&&(t=t.capitalize()),-1!=t.indexOf("-")?t.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}):t.toString()},unCamelCase:function(){return this.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}},0,!1),v(Number.prototype,{"float":function(e){var t=Math.pow(10,e===h?0:e);return Math.round(this*t)/t},isFloat:function(){return 0!=Math.ceil(this)-this}}),v(Date.prototype,{format:function(e,t){var r=this;if(t===h){var n={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};a(e)&&(e="yyyy-M-d h:m:s"),/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e}for(var o="y M d h m s".split(" "),s="",u=[],c={},l=0,f=-1,d=e.length;d>l;l++){var p=e.charAt(l),m=-1!=o.indexOf(p);m&&p!==s?u[++f]=s=p:m||p===s?u[f]+=p:u[++f]=s=p}for(l=0,f=0,d=u.length;d>l;l++){var v=u[l],g=t.substring(f,f+=v.length);if(!g)break;-1!=o.indexOf(v.charAt(0))&&(c[v.charAt(0)]=~~g)}for(var y in c){var b=~~c[y];"y"==y?b.length<4?r.setYear(b):r.setFullYear(b):"M"==y?r.setMonth(b-1):"d"==y?r.setDate(b):"m"==y?r.setMinutes(b):"s"==y&&r.setSeconds(b)}return r}},0,!1),v(c,{"int":parseInt,"float":function(e,t){var r=parseFloat(e);return t===!0?0!=Math.ceil(r)-r:r},newDom:function(e,t){var r=l.createElement(e);return"string"==typeof t&&(r.className=t),new D(r,!1)},newDiv:function(e){return newDom("div",e)},sprintf:function(){for(var e=arguments,t=e.length,r=arguments[0],n=1,i="",o=0,a=r.length;a>o;o++){var s=r.charAt(o);if(a-1>o&&"%"==r.charAt(o)){var u=r.charAt(o+1);if("%"==u)i+="%";else if(t>n){var c=e[n];switch(u){case"c":i+=(c+"").charAt(0);break;case"s":i+=c+"";break;case"d":i+=int(c);break;case"f":i+=float(c);break;case"o":i+=int(c).toString(8);break;case"x":i+=int(c).toString(16);break;case"X":i+=int(c).toString(16).toUpperCase();break;case".":if(a-3>o){var l=int(r.charAt(o+2));l>0&&"f"==r.charAt(o+3)&&(i+=float(c).toFixed(l),o+=2)}}n++}o++}else i+=s}return i}}),g=P.func=function(o,s){if(o===h)return function(){};if(o===!1)return function(){return!1};r(o)&&(o=new Function(o));var u=f,c=0,l=!1,d=!1,p=!1,v=!0,y=" ",b="array",k="object",x="string",w=[Array,i,b],_=[Object,n,k],S=[String,r,x];if(n(s)){var T=s.each||s.a,C=s.split||s.b,F=s.parent||s.c,A=s.delay||s.d;s.rebuild&&(o=g.rebuild(o)),s.chaining===!1&&(v=!1),r(C)&&(y=C),t(A)&&(u=A),i(T)?m(T,function(e,t){w.exist(t)?l=!0:_.exist(t)?d=!0:S.exist(t)&&(p=!0)}):n(T)&&(a(T[b])||(l=T[b]),a(T[k])||(d=T[k]),a(T[x])||(p=T[x])),e(F)?c=F:i(F)&&(c=function(){for(var e=0,t=arguments,r=F.length;r>e;e++)F[e].apply(this,t)})}else t(s)&&(u=s);var z=function(e,t,r,n,a){var s,u=this;if(e===h)0!==c&&c.call(u),s=o.call(u);else if(l===!0&&i(e))for(var f=0,g=e.length;g>f;f++)z.call(u,e[f],t,r,n,a);else if(p===!0&&typeof e===x)-1!==e.indexOf(" ")?m(e,function(e,i){o.call(u,i,t,r,n,a)},!1,y):o.call(u,e,t,r,n,a);else if(d===!0&&typeof e===k)for(var b in e)o.call(u,b,e[b],r,n,a);else 0!==c&&c.call(u,e,t,r,n,a),s=o.call(u,e,t,r,n,a);return s===h&&v===!0&&(s=u),s};return u!==f?function(){var e=this,t=arguments;return setTimeout(function(){z.apply(e,t)},u),e}:z},g.exec=function(e,t){return g(e,t)()},g.malloc=function(e,t){var r="prototype",n=function(){e.apply(this,t)};return n[r]=e[r],new n},g.rebuild=function(){},y=P.model=function(e,t,i){if(i===h&&(i=P),r(e)){if(t===h)return i.models[e]}else t===h&&n(e)&&(t=e);return n(t)?(r(e)&&(i.models[e]=t),t):{}},b=P.module=function(t,o,a){if(r(t)){if(o===h)return P.modules[t]||f}else a=o,o=t;if(a===h&&(a=P),e(o)&&!n(o=o.call(a)))return f;var s="__Std__",u="prototype",c=b.inheritance,l=o.model||o.a;r(l)&&(l=l.split(" ")),i(l)?m(l,function(e,t){var i=f;r(t)?i=a.models[t]:n(t)&&(i=t),i==f&&r(t)||b.loadModel(o,i)}):n(l)&&b.loadModel(o,l);var d=o.parent||o.b||f,p=o.events||o.c||[],y=o.mix||o.d||f,k=o.option||o.e||f,x=o.static||o.f,w=o.extend||o.g||{},_=o.private||o.h,S=o.protected||o.i,T=o.public||o.j,C=o.main||o.k||g(),F=o.entrance||o.l,z=o.__constructor__||o.z,E=C;if(r(d)&&!(d=a.modules[d]))return f;var L=function(){var e=arguments;d.apply(this,e),C.apply(this,e)};e(z)?(E=z,e(d)&&c(E,d)):1===o.type?e(d)?(E=function(e,t,r,n,i){return new L(e,t,r,n,i)},c(E,d),c(L,d)):(E=function(e,t,r,n,i){return new C(e,t,r,n,i)},C[u]=E[u]={}):e(d)&&(E=L,c(E,d));var H=E[u];if(r(p)&&(p=p.split(" ")),e(d)&&(d[u][s]&&(p=p.union(d[u][s].events)),b.extendMembers(E,w,d),v(E,d)),k!==f){var N={};if(e(d)){var B=d[u][s];n(B)&&(k=v(v(N,B.option),k))}N=new A(k),H.init_opts=function(e){return this.opts=N.get(e)},H.opt=function(e,t,r){if(t===h)return this.opts[e];if(this.opts[e]=t,"function"==typeof r){var n=r.call(this);if(n!==h)return n}return this}}return i(y)?m(y,function(e,t){v(E,t),v(H,t[u])}):(n(y)||e(y))&&(v(E,y),v(H,y[u])),n(x)&&v(E,x),n(S)&&m(S,function(e,t){H["_"+e]=t}),n(_)&&v(H,_),n(T)&&v(H,T),e(F)&&F.call(E,E,H),H[s]={type:o.type||0,model:l||f,parent:d,option:k,events:p,main:C},r(t)&&(a.modules[t]=E),E},b.inheritance=function(e,t){var r="prototype",n=g();return n[r]=t[r],e[r]=new n,e[r].constructor=e,e},b.extendMembers=function(t,r,n){return m(r,function(r,i){var o=n.prototype[r];e(o)&&e(i)&&(t.prototype[r]=function(){var e=this,t=arguments,r=o.apply(e,t);return r!==e&&r!==h?r:((r=i.apply(e,t))===h&&(r=e),r)})}),t},b.loadModel=function(e,t){var o="events",a=t[o]||t.c,s=e[o];return r(a)&&(a=a.split(" ")),i(a)&&(s?(r(s)&&(s=s.split(" ")),i(s)&&(e[o]=[].union(a,s))):e[o]=a),m({parent:"b",main:"k",entrance:"l"},function(r,n){var i=t[r]||t[n],o=e[r]||e[n];!o&&i&&(e[r]=i)}),m({mix:"d",option:"e","static":"f",extend:"g","private":"h","protected":"i","public":"j"},function(r,i){var o=t[r]||t[i];if(n(o)){var a=v(v({},o),e[r]||e[i]);e[i]?e[i]=a:e[r]=a}}),e},b.property=function(e,t,r){var i,o=e,a="prototype";if(r!==!0)return(i=o[a].__Std__)?i[t]:f;for(var s=[];(i=o[a].__Std__)&&n(i)&&i[t]!==h&&(s.push(i[t]),o=i.parent););return s},b.extend=function(t,i,o){return r(t)||(o=i,i=t),o===h&&(o=P),e(i)&&!n(i=i.call(o))?f:void 0},P.create=function(e){if(r(e)){var t=P.modules[e];return t===f?t:g.malloc(t,Array.prototype.slice.call(arguments,1))}},P.unite=function(o,a,s){var u="prototype",c=P.unite.addMember,l=g(),d=a||g(),p=P.unite.methods;return l[u]=o[u],d[u]={length:0,_:function(o){var a=this,s=f;return o===h?s=a:r(o)?s=p[o].apply(a,Array[u].slice.call(arguments,1)):i(o)?s=p.merge.call(a,o):t(o)?s=a[o]:(e(o)||n(o))&&(s=p.push.call(a,o)),s},each:function(e){return p.each.call(this,e)}},m(new l,function(t,r){e(r)&&c(d,t)}),m(s,function(t,r){e(r)&&c(d,t)}),d},P.unite.addMember=function(e,t){e.prototype[t]=function(){for(var e=this,r=arguments,n=0,i=e.length;i>n;n++){var o=e[n][t];o&&o.apply(e[n],r)}return e}},P.unite.methods=function(){var e=Array.prototype,t={clear:function(){for(var e=this;e.length>0;)delete e[--e.length];return e},splice:function(t,r){return e.splice.call(this,t,r),this},remove:function(e){return e===h?this.clear():t.splice.call(this,e,1)},indexOf:function(t,r){return e.indexOf.call(this,t,r)},exist:function(e){return-1!==t.exist.call(this,e)},merge:function(e){for(var t=this,r=0,n=e.length;n>r;r++)t[t.length++]=e[r];return t},push:function(e){return this[this.length++]=e},each:function(e){for(var t=this,r=0,n=this.length;n>r&&e.call(t[r],r,t[r])!==!1;r++);return t}};return t}(),A=P.options=b({j:{get:function(e){var t=new this.data;if(!n(e))return t;for(var r in e)t[r]=e[r];return t},set:g(function(e,t){this.data.prototype[e]=t},{each:[i,n]}),remove:g(function(e){delete this.data.prototype[e]},{each:[i]})},k:function(e){var t=this;return t.data=function(){},t.set(e),t}}),y("events",{j:{eventExist:function(t,r){var n=this.__StdEvents__;return n&&n[t]?e(r)?m(n[t],function(e,t){return t===r?!0:void 0})||!1:!0:!1},eventAssign:function(t,n){var o=this;if(!e(n))return o;if(r(t)&&(t=t.split(" ")),i(t))for(var a=t.length,s=[],u=0,c=function(e,t){s[e]=f,o.once(t,function(t){s[e]=t,++u==a&&n.apply(o,s)})},l=0;a>l;l++)c(l,t[l]);return o},on:g(function(t,n){var i=this,o="__StdEvents__",a=i[o];if(a||(a=i[o]={}),r(t)&&e(n)){var s=a[t];s||(s=a[t]=[]),s.push(n)}return i},{each:[i,n,r]}),off:g(function(t,r){var n=this,i=n.__StdEvents__;t===h?m(i,function(e){n.off(e)}):r===h&&t in i?i[t].clear():i&&e(r)&&m(i[t],function(e,n){n===r&&i[t].remove(e)})},{each:[i,n,r]}),once:g(function(t,n){var i=this;if(r(t)&&e(n)){var o=function(e){return i.off(t,o),n.call(i,e)};i.on(t,o)}},{each:[i,n,r]}),emit:g(function(t,r,n){var i,o=this,a=o.__StdEvents__;if("boolean"==typeof t)return o.emitTurn=t,o;if(!a||!(i=a[t])||o.emitTurn===!1)return o;var s=i.length,u="call";if(n===!0&&(u="apply"),1===s)return i[0][u](o,r),void 0;for(var c=0;s>c;){var l=i[c];e(l)&&l[u](o,r),l===i[c]&&c++}},{each:[i,r]})}}),k=P.events=b({a:"events",f:{connect:function(t,n,o,a){var s="__StdConnection__",u=function(){var t=arguments;return e(a)?a.apply(o,t):r(a)&&e(o[a])?o[a].apply(o,t):(i(a)&&m(a,function(n,i){if(r(i)){if(e(o[i])&&o[i].apply(o,t)===!1)return!1}else if(e(i)&&i.apply(o,t)===!1)return!1}),void 0)};return t[s]||(t[s]={}),t[s][n]||(t[s][n]=[]),t[s][n].push({source:t,sourceEvent:n,target:o,targetMethod:a,handle:u}),t.on(n,u),k},disconnect:function(e,t,r,n){var i="__StdConnection__";if(!e||!e[i])return k;if(!e[i][t]){for(var t in e[i])k.disconnect(e,t);return k}return r?(m(e[i][t],function(o,a){(!n||a.target===r&&a.targetMethod===n)&&(a.source.off(t,a.handle),e[i][t].remove(o))}),k):(m(e[i][t],function(r,n){k.disconnect(e,t,n.target)}),k)}}}),x=P.queue=b({type:1,a:"events",j:{pos:0,length:0,exist:function(e){return-1!==Array.prototype.indexOf.call(this,e)},merge:function(){return Array.prototype.mergeArray.apply(this,arguments)},go:function(e,t){var r=this,n=r.length;if(e===h&&(e=0),n-1>=e){var o=r[r.pos=e];i(t)?o.apply(r,t):o.call(r,t)}return e===n-1&&r.emit("complete"),r},prev:function(){return this.go(this.pos-1,arguments)},next:function(){return this.go(this.pos+1,arguments)},exec:function(){for(var e=this,t=e.length,r=0;t>r;r++)e[e.pos=r].apply(e,arguments);return t>0&&e.emit("complete"),e},push:function(e){var t=this;return t[t.length++]=e,t},append:function(t){var r=this;return e(t)?r.push(t):i(t)&&r.merge(t),r},remove:function(r){var n=this;if(r===h)n.clear();else if(t(r)){delete n[r];for(var i=r+1;i<n.length;i++)i>0&&(n[i-1]=n[i],delete n[i]);n.length--}else if(e(r))for(var i=n.length;i--;)if(n[i]===r){n.remove(i);break}return n},clear:function(){var e=this;e.pos=0,e.length=0;for(var t=0;t<e.length;t++)delete e[t];return e}},k:function(e){var t=this;i(e)?t.merge(e):n(e)&&(i(e.queue)&&t.merge(e.queue),n(e.on)&&t.on(e.on))}}),w=P.valid=P.is=b({f:{url:function(){},email:function(e){return/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)},number:function(e){return!isNaN(float(e))&&isFinite(e)},blankChar:function(e){return"\r"===e||"\n"===e||" "===e||"	"===e},alnum:function(e){return e>="0"&&"9">=e||e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e},validAlNum:function(e){if(""===e)return!1;for(var t=e.length-1,r=w.alnum;t>=0;t--)if(!r(e.charAt(t)))return!1;return!0},singleTag:function(e){switch(e){case"input":case"link":case"meta":case"img":case"param":case"br":case"hr":return!0}return!1},operatorChar:function(e){switch(e){case"+":case"-":case"*":case"/":case"=":case"!":case">":case"<":case"~":case"|":case"$":case"^":return!0}return!1},find:function(e,r){if(e===h||!r)return!1;if(r===e)return!0;var n=typeof r;if("object"===n){var o=r.length,a=i(r);if(a||t(o))for(var s=0;o>s;s++)if(r[s]===e)return!0;if(!a)return e in r}else if("string"===n)return r.indexOf(e+"")>-1;return!1},operator:function(e,t,r){var n=!1;if(""===t&&""===r)return!n;if(r==h)return n;switch(t){case">":n=float(e)>float(r);break;case"<":n=float(e)<float(r);break;case"=":case"==":n=e==r;break;case"===":n=e===r;break;case">=":n=float(e)>=float(r);break;case"<=":n=float(e)<=float(r);break;case"!=":n=e!==r;break;case"~=":n=(" "+e+" ").indexOf(r)>-1;break;case"^=":n=0==e.indexOf(r);break;case"$=":n=e.slice(-r.length)===r;break;case"*=":n=e.indexOf(r)>-1;break;case"|=":n=e===r||e.slice(0,r.length+1)==r+"-"}return n},color:function(e){var t=!0,r=(e=e.toLowerCase()).length,n=w.validAlNum;if("#"===e.charAt(0)){var i=e.substr(1,r-1),o=r-1;if(!n(i)||3!=o&&6!=o)return!1;for(var a,s=0;o>s;s++)if((a=i.charAt(s))>"f")return!1}else if(n(e)&&25>r)t=e in S.colors;else if(r>=11&&"rgb"===e.substr(0,3)){var u=3;if("a"===e.charAt(3)&&u++,"("!==e.charAt(u)&&")"!==e.charAt(r-1))return!1;var c=e.substring(u+1,r-1);if(c!==f){var l=(c=c.split(",")).length;if(u!==l)return!1;m(c,function(e,r){return!w.number(r)||0>~~r||~~r>255?t=!1:void 0})}}else t=!1;return t},keyword:function(e){return w.keywords.exist(e)},keywords:"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined".split(","),element:{className:function(e,t){var n=e.className;if(!n)return!1;n=n.split(" "),r(t)&&(t=t.split(" "));var i=t.length,o=n.length;if(0==o||0==i)return!1;for(var a=0,s=0;o>s;s++)for(var u=n[s],c=0;i>c;c++)if(u==t[c]){a++;break}return a===i},descendant:function(e,r){if(!e||!r)return!1;var n=r.length;if(t(n)){for(var i=0;n>i;i++)if(w.element.descendant(e,r[i]))return!0}else for(;e=e.parentNode;)if(e===r)return!0;return!1}},ie:function(){var e=!!c.ActiveXObject,t=e&&!c.XMLHttpRequest,r=e&&!!l.documentMode,n=e&&!t&&!r,i={6:t,7:n,8:r};return function(t){return t==f?e:i[t]||!1}}()},k:function(e,t){if(e instanceof RegExp)return e.test(t);var n=!1;switch(e){case"Number":n=w.number(t);break;case"String":n=r(t)&&!a(t);break;case"EMail":n=w.email(t);break;case"NonEmpty":n=!a(t)}return n}}),_=P.codec=function(){var e="replace";return{escapeString:function(e,t){var r="";if(e==f)return r;for(var n=0,i=e.length;i>n;n++){var o=e.charAt(n),a=e.charAt(n+1);switch(o){case t:r+="\\"+o;break;case"\r":r+="\\r";break;case"\n":r+="\\n";break;case"\\":a===o?(r+="\\\\",n++):a===t&&(r+="\\"+t,n++);break;default:r+=o}}return r},escapeHTML:function(t){return t[e](/[<>&"]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2f;","`":"&#x60;"}[e]||e})},unescapeHTML:function(t){return t[e](/&amp;/,"&")[e](/&lt;/g,"<")[e](/&gt;/g,">")[e](/&#39;/g,"'")[e](/&quot;/g,'"')[e](/&#(\d+)/g,function(e,t){return String.formCharCode(int(t,10))})}}}(),S=P.convert=b(function(){var e=Math.min,i=Math.max,o=Math.round;return{f:{percent:function(e,n){return t(n)?float(100*(e/(n||100))):(r(e)&&(e="from"===e?0:"to"===e?100:"%"===e.charAt(e.length-1)||w.number(e)?float(e):f),e)},timeUnit:function(e,t,n){if(r(e)&&n===h){n=t;for(var i=e.length,o=i-1;o>=0;o--){var a=e.charAt(o);if(a>="0"&&"9">=a){t=e.substring(o+1,i)||"ms",e=int(e.substr(0,o+1));break}}return 0>o?0:S.timeUnit(e,t,n)}var s=1e3,u={us:s,ns:s*s},c={s:s,m:60*s,h:60*60*s,d:24*60*60*s},l=function(e,t,r){var n;if("ms"==t)return e;if(t in u)n=!0;else{if(!(t in c))return 0;n=!1}return 1==r?n?e/u[t]:c[t]*e:n?u[t]*e:e/c[t]};return s=t===n?e:"ms"===n?l(e,t,1):l(l(e,t,1),n,0)},hex2rgb:function(e){function t(t){return e.charAt(t)}return"#"===e.charAt(0)&&(e=e.substr(1)),3==e.length&&(e=t(0)+t(0)+t(1)+t(1)+t(2)+t(2)),{r:int(t(0)+t(1),16),g:int(t(2)+t(3),16),b:int(t(4)+t(5),16)}},rgb2hex:function(e,t,r){n(e)&&(t=e.g,r=e.b,e=e.r);for(var i=(65536*~~e+256*~~t+~~r).toString(16);i.length<6;)i="0"+i;return"#"+i},hsv2rgb:function(e,t,r){if(n(e)&&(t=e.s,r=e.v,e=e.h),e=o(e),t=o(255*t/100),r=o(255*r/100),0==t)return{r:r,g:r,b:r};var i=r,a=(255-t)*r/255,s=(i-a)*(e%60)/60,u=0,c=0,l=0;return 360==e&&(e=0),60>e?(u=i,l=a,c=a+s):120>e?(c=i,l=a,u=i-s):180>e?(c=i,u=a,l=a+s):240>e?(l=i,u=a,c=i-s):300>e?(l=i,c=a,u=a+s):360>e&&(u=i,c=a,l=i-s),{r:o(u),g:o(c),b:o(l)}},rgb2hsv:function(t,r,a){n(t)&&(r=t.g,a=t.b,t=t.r);var s=e(t,r,a),u=i(t,r,a),c=u-s,l=0,f=0,h=u*(100/255);return 0!=u&&(f=255*c/u),l=0==f?-1:t==u?(r-a)/c:r==u?2+(a-t)/c:4+(t-r)/c,(l*=60)<0&&(l+=360),{h:e(360,o(l)),s:o(f*=100/255)||0,v:o(h)||0}},rgb:function(e){var t=f;return"rgb"==e.left(3).toLowerCase()&&(e=e.between("(",")"))!==f&&(e=e.split(",")).length>=3&&(t={r:~~e[0],g:~~e[1],b:~~e[2]},4==e.length&&(t.a=float(e[3]))),t},hsv:function(e){var t=f;return"hsv"==e.left(3).toLowerCase()&&(e=e.between("(",")"))!==f&&3==(e=e.split(",")).length&&(t={h:~~e[0],s:~~e[1],v:~~e[2]}),t},color:function(e){var t=(e=e.trim().toLowerCase()).length,r=S.colors,n=S.hex2rgb,i=f;return 8>t&&"#"===e.charAt(0)?i=n(e):25>t&&e in r?i=n(r[e]):t>9&&("rgb"==e.substr(0,3)||"rgba"==e.substr(0,4)?i=S.rgb(e):"hsv"===e.substr(0,3)&&(e=S.hsv(e),i=S.hsv2rgb(e.h,e.s,e.v))),i}},k:function(){}}}),S.colors=function(){for(var e={},t="black,navy,darkblue,mediumblue,blue,darkgreen,green,teal,darkcyan,deepskyblue,darkturquoise,mediumspringgreen,lime,springgreen,aqua,cyan,midnightblue,dodgerblue,lightseagreen,forestgreen,seagreen,darkslategray,limegreen,mediumseagreen,turquoise,royalblue,steelblue,darkslateblue,mediumturquoise,indigo,darkolivegreen,cadetblue,cornflowerblue,mediumaquamarine,dimgray,dimgrey,slateblue,olivedrab,slategray,lightslategray,mediumslateblue,lawngreen,chartreuse,aquamarine,maroon,purple,olive,gray,skyblue,lightskyblue,blueviolet,darkred,darkmagenta,saddlebrown,darkseagreen,lightgreen,mediumpurple,darkviolet,palegreen,darkorchid,yellowgreen,sienna,brown,darkgray,lightblue,greenyellow,paleturquoise,lightsteelblue,powderblue,firebrick,darkgoldenrod,mediumorchid,rosybrown,darkkhaki,silver,mediumvioletred,indianred,peru,chocolate,tan,lightgray,thistle,orchid,goldenrod,palevioletred,crimson,gainsboro,plum,burlywood,lightcyan,lavender,darksalmon,violet,palegoldenrod,lightcoral,khaki,aliceblue,honeydew,azure,sandybrown,wheat,beige,whitesmoke,mintcream,ghostwhite,salmon,antiquewhite,linen,lightgoldenrodyellow,oldlace,red,fuchsia,magenta,deeppink,orangered,tomato,hotpink,coral,darkorange,lightsalmon,orange,lightpink,pink,gold,peachpuff,navajowhite,moccasin,bisque,mistyrose,blanchedalmond,papayawhip,lavenderblush,seashell,cornsilk,lemonchiffon,floralwhite,snow,yellow,lightyellow,ivory,white".split(","),r="000000,000080,00008B,0000CD,0000FF,006400,008000,008080,008B8B,00BFFF,00CED1,00FA9A,00FF00,00FF7F,00FFFF,00FFFF,191970,1E90FF,20B2AA,228B22,2E8B57,2F4F4F,32CD32,3CB371,40E0D0,4169E1,4682B4,483D8B,48D1CC,4B0082,556B2F,5F9EA0,6495ED,66CDAA,696969,696969,6A5ACD,6B8E23,708090,778899,7B68EE,7CFC00,7FFF00,7FFFD4,800000,800080,808000,808080,87CEEB,87CEFA,8A2BE2,8B0000,8B008B,8B4513,8FBC8F,90EE90,9370DB,9400D3,98FB98,9932CC,9ACD32,A0522D,A52A2A,A9A9A9,ADD8E6,ADFF2F,AFEEEE,B0C4DE,B0E0E6,B22222,B8860B,BA55D3,BC8F8F,BDB76B,C0C0C0,C71585,CD5C5C,CD853F,D2691E,D2B48C,D3D3D3,D8BFD8,DA70D6,DAA520,DB7093,DC143C,DCDCDC,DDA0DD,DEB887,E0FFFF,E6E6FA,E9967A,EE82EE,EEE8AA,F08080,F0E68C,F0F8FF,F0FFF0,F0FFFF,F4A460,F5DEB3,F5F5DC,F5F5F5,F5FFFA,F8F8FF,FA8072,FAEBD7,FAF0E6,FAFAD2,FDF5E6,FF0000,FF00FF,FF00FF,FF1493,FF4500,FF6347,FF69B4,FF7F50,FF8C00,FFA07A,FFA500,FFB6C1,FFC0CB,FFD700,FFDAB9,FFDEAD,FFE4B5,FFE4C4,FFE4E1,FFEBCD,FFEFD5,FFF0F5,FFF5EE,FFF8DC,FFFACD,FFFAF0,FFFAFA,FFFF00,FFFFE0,FFFFF0,FFFFFF".split(","),n=0,i=t.length;i>n;n++)e[t[n]]="#"+r[n];return e}(),T=P.timer=b({a:"events",e:{delay:0,count:"infinite",interval:0,timeout:0},f:{now:function(){return(new Date).getTime()}},i:{t0:0,t1:0,t2:0,t3:0,t4:0,tid:f,tid2:f,state:"ready"},h:{clock:function(e){var t=this,r=T.now();switch(e){case-1:t._t0=r,t._t1=r,t._t2=t._t3=t._t4=0;break;case 0:t._t0=t._t1=t._t2=t._t3=t._t4=0;break;case 1:t.elapsedTime=r-t._t1-t._t2;break;case 2:t._t0=r,t._t2+=r-t._t3;break;case 3:t._t0=r,t._t1=r;break;case 4:t._t4=r-t._t0;break;case 5:t._t4=t.opts.delay;break;case 6:t._t2+=t.opts.delay}return t},startTimer:function(){var e=this.stopTimer(),t=e.opts,n=t.interval,i=t.timeout;return r(n)&&(n=S.timeUnit(n,"ms")),r(i)&&(i=S.timeUnit(i,"ms")),(i-=e._t4)>0&&(e._tid2=setTimeout(function(){e.stopTimer().emit("timeout").state("ready")},i)),e._tid=setInterval(function(){var r=t.count,n=e.clock(1).elapsedTime,i=++e.elapsedCount;"infinite"!==r&&i>=r?(e.stopTimer(),e.state("completed"),e.emit("progress complete",n)):e.emit("progress",n)},n),e.state("running")},stopTimer:function(){var e=this;return clearInterval(e._tid),clearTimeout(e._tid2),e}},j:{elapsedTime:0,elapsedCount:0,state:function(e){var t=this;return e===h?t._state:t.emit("stateChange",t._state=e)},count:function(e){return this.opt("count",e)},delay:function(e){return r(e)&&(e=S.timeUnit(e,"ms")),this.opt("delay",e)},set:function(e){var t=this;return m(["count","delay","interval","on"],function(r,n){n in e&&t[n](e[n])}),t},interval:function(e){var t=this;return t.opt("interval",e,function(){"running"==t._state&&t.startTimer()})},timeout:function(e){return this.opt("timeout",e)},start:function(){var e=this,t=e.opts,r=e._state,n=t.delay;return 0===t.count||"running"===r?e:("completed"==r?e.clock(-1):"paused"==r?e.clock(2):e.clock(3),(n-=e._t4)>0?(e.state("waiting"),e._tid=setInterval(function(){e.clock(6).startTimer()},n)):e.startTimer(),e.emit("start"))},pause:function(){var e=this,t=e.state(),r=T.now();if("waiting"==t)e.clock(4);else{if("running"!=t)return e;e.clock(5)}return e.stopTimer().state("paused")._t3=r,e.emit("pause")},stop:function(){return this.stopTimer().reset().emit("stop")},reset:function(){var e=this.clock(0);return e.elapsedTime=0,e.elapsedCount=0,e.state("ready")},remove:function(){this.stopTimer().reset()}},k:function(i,o){var a=this,s=f;return a instanceof T?(n(i)?s=i:e(i)&&(t(o)||r(o)?s={interval:o}:n(o)&&(s=o),a.on("progress",i)),a.set(a.init_opts(s)),void 0):new T(i,o).start()}}),P.analyzer=b({f:{}}),C=P.parser=b(function(){var e=w.alnum,t=w.blankChar,r=w.operatorChar,n="arguments";return{type:1,i:{text:"",size:0},f:{json:function(e){return(e+"").toObject()},unit:function(t){for(var r,n="",i="",o=0,a=0,s=t.length;s>o;o++)if((r=t.charAt(o))>="0"&&"9">=r)i+=r;else if("-"===r&&0==o)i+=r;else{if("."!==r)break;if(++a>1)break;i+=r}if(""===i||"-"===i)return f;for(;s>o;o++){if(!e(r=t.charAt(o))&&"%"!==r)return f;n+=r}return{type:"number",unit:n,value:float(i)}}},j:{skipWhiteSpace:function(e,r){for(;r>e&&t(this._text.charAt(e));e++);return e},hex:function(t){var r=this,n="",i=0,o=0,a={error:0,text:""};for(t++;t<r._size;t++){var s=r._text.charAt(t);if(!e(s)){t--;break}if(s.toLowerCase()>"f"){i=1;break}if(o>6){i=1;break}n+=s,o++}return 3!=o&&6!=o&&(i=1),a.text=n,a.endPos=t,a.error=i,a},keyword:function(t,n){var i=this,o=i._text.charAt(t),a="",s=0,u=2,c={text:""};for(2===n&&(t++,u=0);t<i._size;t++){var l=i._text.charAt(t);if(0===n){if(e(l)){a+=l;continue}}else if(1===n){if(l>="0"&&"9">=l){a+=l;continue}if(e(l)){s=1;break}}else{if(2===n){var f=i._text.charAt(t+1);if("\\"===l&&(f===l||f===o)){t++,a+=f;continue}if(l===o){t++,u=2;break}a+=l;continue}if(3===n){if(r(l)){a+=l;continue}}else if(4===n){if(e(l)||"-"===l||"."===l){a+=l;continue}}else if(5===n){if(e(l)||"-"===l){a+=l;continue}}else n!==l&&(a+=l)}break}return 2!=u&&(s=1),c.error=s,c.endPos=--t,c.text=a,c},htmlComment:function(e){var t=this,r=0,n={text:""},i=e;return-1===(i=t._text.indexOf("-->",e))?(r=1,i=t._size-1):(i+=2,n.text=t._text.substring(e,i+3)),n.endPos=i,n.error=r,n},argument:function(r,i){var o=this,a=0,s=0,u={};for(u[n]=[],i===h&&(i=")"),++r;r<o._size;r++){var c=o._text.charAt(r);if(","!==c){if(c===i){s=2;break}if(!t(c)){if(0!=s){a=1;break}var l=-1;if(c>=0&&9>=c)l=1;else if(e(c))l=0;else{if("'"!==c&&'"'!==c){a=1;break}l=2}var f=o.keyword(r,l);if(r=f.endPos,0!=f.error){a=1;break}u[n].push({type:l,text:f.text}),s=1}}else s=0}return 2!=s&&(a=1),u.error=a,u.endPos=r,u},pseudoClass:function(t){var r,i=this,o=0,a=0,s={};for(s[n]=[],++t;t<i._size;t++){var u=i._text.charAt(t);if(0!=o||!e(u)){if(1==o){if("("!==u){--t;break}0==(r=i.argument(t)).error?m(r[n],function(e,t){s[n].push(t.text)}):a=1,t=r.endPos;break}a=1;break}if(s.name=(r=i.keyword(t,5)).text,t=r.endPos,0!=r.error){a=1;break}o++}return s.error=a,s.endPos=t,s},attribute:function(e){var n=this,i=0,o=0,a={name:"",operator:""};for(++e;e<n._size;e++){var s=n._text.charAt(e);if(!t(s)){if("]"==s)break;if(0==i){var u=n.keyword(e,4);if(e=u.endPos,0!=u.error){o=u.error;break}a.name=u.text,i++}else if(1==i)if(r(s))a.operator+=s;else{if(""==a.operator){o=1;break}e--,i++}else if(2==i){var c=0;('"'==s||"'"==s)&&(c=2);var l=n.keyword(e,c);if(e=l.endPos,0!=l.error){o=l.error;break}a.value=l.text,i++}else if(3==i){o=1;break}}}return a.error=o,a.endPos=e,a}},k:function(e,t){this._text=e,this._size=t===h?e.length:t}}}),P.cookie=b({f:{get:function(e){var t=P.cookie();if(!t&&!e)return f;var r=m(t,function(t,r){return(r=r.trim()).substring(0,e.length+1)==e+"="?decodeURIComponent(r.substring(e.length+1)):void 0},!1,";");return r==h?f:r},set:g(function(e,i,o){var a="",s="";if(r(i)||t(i)?s=i:n(i)&&o===h&&(o=i),n(o)){var u,c=o.value,f=o.expires,d=o.path,p=o.domain,m=o.secure;c!==h&&(s=c),f!==h&&(t(f)||r(f)?(u=new Date,u.setTime(u.getTime()+f)):f.toUTCString&&(u=f.toUTCString),a+="; expires="+u.toUTCString()),r(d)&&(a+="; path="+d),r(p)&&(a+="; domain="+p),m===!0&&(a+="; secure")}l.cookie=e+"="+F.encodeURI(s)+a},{each:[n]}),remove:g(function(e,t){var r={expires:-1};t!==h&&v(r,t),P.cookie(e,0,r)},{each:[i,r]}),clear:function(e){var t=P.cookie;return m(t(),function(r,n){var i=n.split("=");i.length>0&&t.remove(i[0],e)},!1,";"),P.cookie}},k:function(e,t,r){var i=P.cookie;return e===h?l.cookie||!1:t===h?n(e)?i.set(e):i.get(e):i.set(e,t,r)}}),F=P.url=b({type:1,f:{encodeURI:function(e){return encodeURIComponent(e+"")},location:function(e){var t=c.location;if(e===h){var n=t.protocol;return{url:t.href,scheme:n.substr(0,n.length-1),hostName:t.hostname,port:t.port,pathName:t.pathname}}return r(e)&&(c.location=e),F},param:function(e){if(r(e))return e;var t=[],i=F.encodeURI,o=function(e,r){n(r)?m(r,function(t,r){o(e+"["+t+"]",r)}):t.push(i(e)+"="+i(r))};return m(e,function(e,t){o(e,t)}),t.join("&")},suffix:b({"static":{img:function(e){return"png gif jpg jpeg bmp img tiff".split(" ").exist(e.toLowerCase())}},main:function(e){var t=e.lastIndexOf("."),r=e.length;if(-1!=t&&r-1>t){var n=e.substring(t+1,r);if(-1==n.indexOf("/"))return n}return""}})},j:{scheme:"",domain:"",port:80,path:"",file:"",suffix:"",queryString:"",hashString:"",addParam:g(function(e,t){var r,n=this,i="";t!==h?(r={},r[e]=t,i=F.param(r)):i=m(e,function(e,t){return""!=t?t:void 0},!0,"&").join("&");var o="queryString";return""!=n[o]&&(n[o]+="&"),n[o]+=i,n
},{each:[n]}),toUrl:function(){var e=this,t="",r=e.domain,n=e.port,i=e.path;return t+=e.scheme+"://"+r,80!=n&&(t+=":"+e.port),F.location().hostName!==r||""!=i&&"/"===i.charAt(0)||(i=F(location.href).path+i),"/"!==i.charAt(0)&&(i="/"+i),t+=i+e.file,""!=e.queryString&&(t+="?"+e.queryString),e.hashString&&(t+="#"+e.hashString),t}},k:function(e){e==h&&(e=c.location.href);var t=this,r=e.length,n="",i=e.indexOf("#"),o=0;if(-1!=i&&(t.hashString=e.substring(i+1,r),e=e.substr(0,i),r=e.length),i=e.indexOf("://",0),-1==i){i=0;var a=F.location();t.scheme=a.scheme,t.domain=a.hostName,t.port=a.port||80}else t.scheme=e.substr(0,i).toLowerCase(),i+=3,o=e.indexOf("/",i),n=-1==o?e.substr(i,r-i):e.substr(i,o-i),i=n.indexOf(":",i),-1==i?t.domain=n:(t.port=~~n.substring(i+1,n.length),t.domain=n.substr(0,i));-1!=o&&(i=e.lastIndexOf("/"),t.path=e.substr(o,i-o),""!=t.path&&(t.path+="/"),o=e.indexOf("?",i),-1==o?t.file=e.substring(i+1,r):(t.file=e.substring(i+1,o),t.queryString=e.substring(o+1,r))),i=t.file.lastIndexOf("."),-1!=i&&(t.suffix=t.file.substring(i+1,t.file.length))}}),z=P.ajax=b({type:1,a:"events",e:{type:"get",cache:!0,async:!0,url:"#",data:"",delay:0,format:"text",polling:!1,timeout:0,username:"",password:"",dataType:"*",charset:"UTF-8",contentType:"application/x-www-form-urlencoded; charset=UTF-8",requestHeaders:0},f:{get:function(e,t){return z({url:e,type:"get",success:t})},post:function(e,t,r){return z({url:e,type:"post",data:t,success:r})},json:function(t,i,o){var a="get",s="",u="",c=f,l={cache:!1,dataType:"json",format:"json"};return n(t)?z(v(l,t)):r(t)?(e(i)?(s=t,c=i):e(o)&&(a="post",s=t,u=i,c=o),z(v(l,{type:a,url:s,data:u,success:c}))):z},load:function(t,i,o){var a="get",s="",u="",c=f;return t===h?z():n(t)?z(t):(r(t)&&(s=t),e(i)?c=i:(n(i)||r(i))&&(a="post",u=i),e(o)&&(a="post",c=o),z({type:a,url:s,data:u,success:c}))}},i:{init:function(){var e=this;return"undefined"!=typeof XMLHttpRequest?e.http=new XMLHttpRequest:m(["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],function(t,r){try{return e.http=new ActiveXObject(r),!1}catch(n){e.http=f}}),e}},j:{http:f,elapsed:0,status:function(){return this.http.status},statusText:function(){return this.http.statusText},type:function(e){return this.opt("type",e)},url:function(e){return this.opt("url",e)},data:function(e){return this.opt("data",e)},start:function(){return this.send()},stop:function(){var e=this;return e.opts.polling=!1,e.http.abort(),e},abort:function(){var e=this;return e.http.abort(),e},cache:function(e){return this.opt("cache",e)},accept:function(e){var t=this;if(e==h)return t.requestHeader("Accept");var r={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml,text/xml",json:"application/json,text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"};return t.requestHeader("Accept",r[e]||e)},responseText:function(){return this.http.responseText},responseContentLength:function(){return this.responseHeader("Content-Length")},responseHeader:function(e){var t=this,n=t.http;return e===h?n.getAllResponseHeaders()||f:r(e)?n.getResponseHeader(e)||f:void 0},requestHeader:g(function(e,t){var r=this,n=r._requestHeader;return t===h?n[e]:(n[e]=t,void 0)},{each:[n,i]}),complete:function(){},success:function(){},failed:function(){},send:function(){var e=this,t=e.http,r=e.opts,i=r.type.toLowerCase(),o=F(r.url),a=r.data,s=T.now(),u=r.timeout,c=f;return"get"==i&&(""!=a&&o.addParam(a),0==r.cache&&o.addParam("_",s)),t.open(i,o.toUrl(),r.async,r.username,r.password),t.setRequestHeader("Content-Type",r.contentType),t.onreadystatechange=function(){e.emit("readyStateChange",t);var n=t.readyState;if(3==n)e.emit("progress",t);else if(4==n){e.elapsed=T.now()-s;var i=t.status;if(i>=200&&300>i||304===i){var o=t.responseText;switch(r.format){case"json":o=C.json(o);break;case"text":o+=""}e.success(),e.emit("success",o)}else e.failed(),e.emit("failed",t);r.polling===!0&&g(function(){e.send()},r.delay),c!==f&&(clearTimeout(c),c=f),e.complete(),e.emit("complete",t)}},e.accept(r.dataType),m(e._requestHeader,function(e,r){t.setRequestHeader(e,r)}),e.emit("beforeSend"),"post"==i?(n(a)&&(a=F.param(a)),t.send(a)):t.send(f),u>0&&(c=setTimeout(function(){e.emit("failed timeout",t).abort()},u)),e.emit("afterSend")}},k:function(t){var i=this,o=i.init_opts(t);i._requestHeader={},i._init(),m("success failed timeout complete readyStateChange",function(t,r){e(o[r])&&i.on(r,o[r])}),i.requestHeader(o.requestHeader),n(t)?i.send():r(t)&&(i.url(t),i.send())}}),P.websocket=b({a:"events",e:{host:top.location.hostname||"localhost",port:3e3,path:""},h:{initEvents:function(){var e=this,t=e.socket;return v(t,{onopen:function(r){e.emit("open",r),1===t.readyState&&0!==e.sendQueue.length&&(e.sendQueue.each(function(e,r){t.send(r)}),e.sendQueue.clear())},onmessage:function(t){e.emit("message",t)},onerror:function(t){e.emit("error",t)},onclose:function(t){e.emit("close",t),e.socket=f}}),e}},j:{connect:function(t){var i=this,o=i.opts,a=f;if(n(t))i.init_opts(t),i.url="ws://"+o.domain+":"+o.port+"/"+o.path;else{if(!r(t))return i;var s=F(t);i.init_opts({host:s.domain,port:s.port,path:s.path}),i.url=t}return e(WebSocket)?a=new WebSocket(i.url):e(MozWebSocket)&&(a=new MozWebSocket(i.url)),i.socket=a,i.initEvents().emit("connect")},send:function(e){var t=this,r=t.socket;if(r!==f){var n=r.readyState;0===n?t.sendQueue.push(e):1===n&&r.send(e)}return t},close:function(e,t){var r=this,n=r.socket;return n!==f&&(n.close(e,t),r.socket=f),r},readyState:function(){var e=this,t=e.socket;return t===f?3:t.readyState}},k:function(e){var t=this;t.sendQueue=[],e!==h&&(t.on(e.on),t.connect(e))}}),E=P.loader=b({a:"events",f:{css:function(e,t){return E.loadByElement("css",e,t)},js:function(e,t){return E.loadByElement("js",e,t)},image:g(function(t,r){var n=new Image;return e(r)?(n.onload=function(){r.call(n,!0,n),n.onload=f},n.onerror=function(){r.call(n,!1,n),n.onerror=f},n.src=t,void 0):(n.src=t,void 0)}),loadByElement:g(function(t,r,n){var i,o=function(t){e(n)&&n.call(i,!0,t)};t!==h&&("css"===t?i=newDom("link").attr({type:"text/css",rel:"stylesheet",href:r}):("js"===t||"json"===t)&&(i=newDom("script").attr({src:r,async:"async"})),"onload"in i.dom||"onreadystatechange"in i.dom?i.on("load readystatechange",function(){var e=i.readyState();e&&"loaded"!==e&&"complete"!==e||(i.off(),o("css"==t?i.sheetText():""))}):"css"===t&&T({interval:10,timeout:"10s",on:{progress:function(){try{var e=i.sheetText();a(e)||(this.stop(),o(e))}catch(t){}},timeout:function(){}}}),i.appendTo("head"))},{each:[i]})},i:{basePath:""},j:{safe:!0,length:0,success:0,failed:0,basePath:function(e){var t=this;return r(e)?("/"!==e.right(1)&&(e+="/"),t._basePath=e,t):t._basePath},load:g(function(t,o,s){var u=this,c="",l="",d=f;return t===h?u:(n(t)?(l=t.url,c=t.type,d=t.callback):r(t)&&o===h?l=t:r(t)&&i(o)?m(o,function(e,n){r(n)&&u.append(t,n,s)}):s===h?e(o)?(l=t,d=o):r(o)&&(c=t,l=o):r(t)&&r(o)&&(c=t,l=o,d=s),a(c)&&(c=F(l).suffix),u.append(c,l,d))},{each:[i]}),include:function(){for(var e=this,t=arguments,n=function(t){for(var r=new x,n=t.length,i=0;n>i;i++)r.push(function(){var n=t[r.pos];e.load(n,function(){r.next()})});r.go()},o=0,a=t.length;a>o;o++){var s=t[o];r(s)?e.load(s):i(s)&&n(s)}return e},clear:function(){var e=this.off();return e.length=0,e.success=0,e.failed=0,e.callbacks=[],e._queue={},e},append:g(function(t,n,o){function a(e){0!=h.length&&(e===!0?(y.state=1,h.success++,h.emit("success",y)):(y.state=2,h.failed++,h.emit("failed",y)),m(y.callbacks,function(e,t){t.call(h,y)}),h.emit("progress",y),h.success+h.failed==h.length&&h.emit("complete"))}function s(e){E.loadByElement(t,n,function(t,r){e&&(y.data=r,a(t))})}function u(){v?s(!0):("anm"===t&&H.append(y.data),a(!0))}function c(){F.suffix.img(t)?E.image(n,function(e){y.data=this,a(e)}):0!=p||v&&!h.safe?v?s(!0):E.image(n,function(){a(!0)}):z({cache:!0,url:n,success:function(e){y.data=e,u()},failed:function(){a(!1)}})}var h=this;if(!r(t)||!r(n))return h;-1===n.indexOf("://")&&"/"!==n.left(1)&&(n=h._basePath+n);var d=h._queue[t],p=!1,v="css"===t||"js"===t||"json"===t,y={url:n,data:f,state:0,callbacks:[]};i(d)||(d=h._queue[t]=[]);for(var b=0,k=d.length;k>b;b++){var x=d[b];if(x.url===n)return e(o)&&(1==x.state&&o.call(h,x),x.callbacks.push(o)),h}return e(o)&&y.callbacks.push(o),F(n).domain!==l.domain&&(p=!0),d.push(y),h.length++,g(c,0)(),h},{each:[i,n]}),remove:g(function(t,n,i){var o=this,a=o._queue;if(t===h)return o.clear();if(t in a){var s=a[t],u=s.length,c=function(e){for(var t=e.length;t>=0;t--)if(e[t]===i){e.remove(t);break}};if(n===h)for(;u>=0;u--)s[u].callbacks.clear(),s.remove(u);else if(r(n))for(;u>=0;u--)if(s[u].url===n){var l=s[u].callbacks;e(i)?c(l):(l.clear(),s.remove(u));break}}},{each:[i,n]})},k:function(e){var t=this;if(!(t instanceof E)){var n=new E;return n.load.apply(n,arguments)}t.clear(),r(e)&&t.basePath(e)}}),L=P.template=b({a:"events",f:{templates:{},append:g(function(e,t){t instanceof L&&(L.templates[e]=t)},{each:[i,n]}),remove:g(function(e){if(e===h)for(var e in L.templates)delete L.templates[e];else r(e)&&delete L.templates[e]},{each:[i]})},i:{renderTo:f},h:{analyze:function(){var e=this,t=e.analyzer,r=t.analyze(e.tpl);return 0!=t.error?(e.error=1,e.emit("error","analyzeError"),!1):r},compile:function(){var e=this,t=e.compiler.compile();return 0!=e.compiler.error?(e.error=2,e.emit("error","compileError"),!1):t},build:function(e){var t=this;return 0==t.error&&n(e)?t.builder.build(e):f}},j:{error:0,render:function(e){var t=this,r=t.build(e),n=t._renderTo;return n!==f&&n.html(r),r},renderTo:function(e,t){var r=this,n=D(e);return n&&n.html(r.build(t)),r},loadFromString:function(e){var t=this,r=t.analyze(t.tpl=e);return r!==!1&&(t.compile(r),t.emit("load")),t},loadFromElement:function(e){var t=this,r=t._dom=D(e);if(r!==f){var n=r.attr("std-name"),i=r.attr("render-to"),o=r.attr("render-url");a(n)||L.append(n,t),a(i)||(t._renderTo=D(i)),a(o)||(t._renderUrl=o,t.refresh()),t.loadFromString(r.html())}return t},loadFromUrl:function(t,n){var i=this;return z.get(t,function(t){r(t)&&i.loadFromString(t),e(n)&&n.call(i,t)}),i},refresh:function(){var e=this,t=e._dom,r=e._renderUrl;return!a(r)&&t&&z.json({url:r,cache:!1,success:function(r){var n=e.render(r),i=t.attr("render-here");"true"==i&&(t.parent().insertBefore(n,t),t.remove())}}),e}},k:function(e,t){var i=this,o=d.template;return i instanceof L?(i.analyzer=new L.analyzer(i),i.compiler=new L.compiler(i),i.builder=new L.builder(i),i.compressLevel=o.compressLevel,i.cache=o.cache,i.maxCacheSize=o.maxCacheSize,t===h?t=e:L.append(e,i),r(t)?i.loadFromString(t):n(t)&&(t.cache&&(i.cache=t.cache),t.maxCacheSize&&(i.maxCacheSize=t.maxCacheSize),t.compressLevel&&(i.compressLevel=t.compressLevel),t.on&&i.on(i.on),t.text?i.loadFromString(t.text):t.element?i.loadFromElement(t.element):t.url&&i.loadFromUrl(t.url),i.once("load",t.renderTo)),void 0):r(e)?t===h?L.templates[e]||f:new L(e,t):f}}),L.statements={"#else":function(){return"}else{"},"#elseif":function(e,t){return"}else if("+this.fixCode(e,t)+"){"},"#break":function(){return"break;"},"#continue":function(){return"continue;"},"with":function(e,t,r){return"if(typeof("+this.fixCode(e,t)+")!=='undefined'){"+r+"}"},"if":function(e,t,r){return"if("+this.fixCode(e,t)+"){"+r+"}"},"for":function(e,t,r){return"for("+this.fixCode(e,t)+"){"+r+"}"},"while":function(e,t,r){return"while("+this.fixCode(e,t)+"){"+r+"}"},each:function(e,t,r){var n,i,o=[],s=e,u=0,c="";if(-1!==(i=e.indexOf(" as ",1))){s=e.substr(0,i).trim();var l=e.length,f="";for(i+=4;l>i;i++)if(w.blankChar(n=e.charAt(i)));else if(w.alnum(n))f+=n;else{if(","!==n){u=20,c=n;break}o.push(f),f=""}""!==f&&o.push(f)}return w.validAlNum(s)||(u=21,c=s),a(o)&&(o=["index","value"]),"Std.each("+this.varName(s,t)+",function("+o.join(",")+"){"+r+"});"}},L.analyzer=b({h:{parse:function(e){var t,r,n=this,i=f,o=0,a={},s=n.tplLength,u=n.parser,c="",l=0;switch(t=n.tpl.charAt(e+1)){case"=":case"$":e++;case"#":case"/":i=t}for((a.type=i)!==f&&"="!==i&&"$"!==i&&(0==(r=u.keyword(e+2,0)).error?a.keyword=r.text:l=1,e=r.endPos),++e;s>e;e++)if("\n"!==(t=n.tpl.charAt(e))||0!==o)if(";"!==t&&"{"!==t&&"}"!==t)if(0!==o&&w.blankChar(t))"\n"===t&&n.currentLine++;else{if(o=0,"?"===t&&">"===n.tpl.charAt(e+1)){e++;break}if('"'===t||"'"===t){if(e=(r=u.keyword(e,2)).endPos,0!==r.error){l=1;break}c+=t+_.escapeString(r.text,t)+t}else c+=t}else o=2,c+=t;else o=1,c+="\n",n.currentLine++;return a.text=c.trim(),a.error=l,a.endPos=e,a}},j:{append:function(e,t){var r=this;return 0===t&&(e=_.escapeString(e,"'")),r.result.push({type:t,line:r.currentLine,data:e}),r},analyze:function(e){var t,r,n,i=this.clear(),o=i.tplLength=e.length,a=i.parser=C(i.tpl=e,o),s="",u=0;for(t=0;o>t;t++)if("<"===(r=e.charAt(t)))if("?"===(r=e.charAt(t+1))){if(t=(n=i.parse(t+1)).endPos,0!==n.error){u=1;break}i.append(s,0).append(n,1),s=""}else if("!"===r&&"-"===e.charAt(t+2)&&"-"===e.charAt(t+3)){if(t=(n=a.htmlComment(t)).endPos,s+=n.text,0===n.error){u=2;break}i.currentLine+=n.text.count("\n")}else t++,s+="<"+r;else"\n"===r&&i.currentLine++,s+=r;return i.error=u,i.endPos=t,i.append(s,0),i.result},clear:function(){var e=this;return e.endPos=0,e.error=0,e.currentLine=0,e.result.clear(),e}},k:function(e){this.parent=e,this.result=[]}}),L.builder=b({h:{},j:{exec:function(e){var t=this.compiler.result;try{return t(e)}catch(r){}return""},build:function(e){var t=this,n=t.caches;if(r(e)&&(e=e.toObject()),!t.parent.cache)return t.exec(e);for(var i=0,o=t.cacheSize;o>i;i++)if(n[i].data===e)return n[i].text;t.cacheSize>t.parent.maxCacheSize?t.clearCache():t.cacheSize++;var a=t.exec(e);return n.push({data:e,text:a}),a},clearCache:function(){var e=this;return e.caches=[],e.cacheSize=0,e}},k:function(e){this.parent=e,this.clearCache().compiler=e.compiler}}),L.compiler=b({h:{},j:{varName:function(e,t){return t===h?e:t+"."+e},printText:function(e){return"_print+='"+e+"';"},printVariable:function(e,t){if(""===e)return e;var r=this.varName(e,t);return"if(typeof("+r+")!=='undefined'){_print+="+r+"}"},makeFunction:function(e){var t="var _print=''"+(p()?",_line=0;":";")+e+"\nreturn _print";return p()&&(t="try{"+t+"}catch(e){Std.debug('[builder] builder error',e.message,'start line :' + _line)}"),P.eval("(function(){return function(_data){"+t+"}})()")},fixCode:function(e,t){for(var r=this,n=e.length,i=C(e,n),o="",a=r.variables,s=0,u=0;n>u;u++){var c=e.charAt(u),l=f;if(w.blankChar(c))o+=c;else if(";"!==c&&"{"!==c&&"}"!==c&&"&"!==c&&"|"!==c){if('"'===c||"'"===c)l=2;else if(c>="0"&&"9">=c)l=1;else if(w.alnum(c))l=0;else{if(!w.operatorChar(c)){o+=c;continue}l=3,s=0}var h=i.keyword(u,l),d=h.text||"";0===l&&"var"===d&&(s=1),2===l&&(d=c+_.escapeString(d,c)+c),0===l&&"."!==e.charAt(u-1)?w.keyword(d)?o+=d:0===s||2===s?o+=a.exist(d)?d:r.varName(d,t):1===s&&(a.push_uniq(d),o+=d):3===l&&"="===d?(s=2,o+=d):o+=d,2===s&&"="!==d&&(s=1),u=h.endPos}else o+=c,s=0}return o},compileLogicSyntax:function(e,t,r){var n,i,o=this,a=t.keyword,s=t.text,u="",c=1,l=a+" "+s,f=L.statements;for("with"===a&&(r=o.fixCode(s,r)),o.i++;o.i<o.analyzeLength;o.i++){var h=o.analyzeResult[o.i],d=h.data,p=h.type;if(1===p&&"/"===(i=d.type)&&d.keyword===a)return f[a].call(o,s,r,u,e);if(1===p&&"#"===i)if(i+(n=d.keyword)in f)u+=f[i+n].call(o,d.text,r);else{if(!f[n]){c=2,l=n;break}u+=o.compileItem(h,r)}else u+=o.compileItem(h,r)}return!1},compileItem:function(e,t){var r=this,n=f,i=e.data;if(1===e.type){var o=i.type;o?"="===o?n=r.printVariable(i.text,t):"$"===o?n=r.printVariable(i.text):"#"===o&&(n=r.compileLogicSyntax(e,i,t)):n=i.text+"\n"}else a(i)||(n=r.printText(i));return n},compile:function(){for(var e=this.clear(),t="",r="",n=e.analyzeLength=e.analyzeResult.length;e.i<n;e.i++)null!==(r=e.compileItem(e.analyzeResult[e.i],"_data"))&&(t+=r);return this.result=e.makeFunction(t)},clear:function(){var e=this;return e.i=0,e.error=0,e.result="",e.variables=[],e.analyzeResult=e.analyzer.result,e}},k:function(e){var t=this;t.parent=e,t.analyzer=e.analyzer,t.clear()}}),H=P.animation=b({a:"events",f:{data:{keyframes:{}},append:g(function(e,t){if(n(e)&&(e=D(e).html()),r(e)){var i=H.parser(e),o=H.data.keyframes;m(i.keyframes,function(e,r){var n=r.name,i=r.rules;t!==!1&&N.keyframes(n,i),o[n]=i})}},{each:[i]}),remove:g(function(e){r(e)&&delete H.data.keyframes[e]},{each:[i]})},i:{},j:{},k:function(){}}),H.timingFunction=b({f:{linear:[0,0,1,1],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],snap:[0,1,.5,1],"cubic-bezier":function(e,t,r,n){function i(e){return((l*e+c)*e+u)*e}function o(e){return((d*e+h)*e+f)*e}function a(e){return(3*l*e+2*c)*e+u}function s(e){for(var t,r,n,o,s=0,u=e;8>s;s++){if(p(n=i(u)-e)<m)return u;if(p(o=a(u))<m)break;u-=n/o}if((u=e)<(t=0))return 0;if(u>(r=1))return 1;for(;r>t;){if(p((n=i(u))-e)<m)return u;e>n?t=u:r=u,u=.5*(r-t)+t}return u}var u=3*e,c=3*(r-e)-u,l=1-u-c,f=3*t,h=3*(n-t)-f,d=1-f-h,p=Math.abs,m=1e-6;return function(e){return o(s(e))}}},k:function(e){var r=f,n="cubic-bezier",o=H.timingFunction;i(e)?r=e:(e=e.trim()).left(12)===n?r=m(e.between("(",")",11).split(","),function(e,t){return float(t.trim())},!0):e in o?r=o[e]:p("[animation]timingFunction error:",e+" doesn't exist"),r===f&&(r=o.linear);for(var a=0;4>a;a++)t(r[a])?r[a]>1&&(r[a]=1):r[a]=0;return o[n].apply(this,r)}}),H.parser=b({f:{value:function(e){function t(e,t){var r=t.length,n=[];if("rgb"===e&&3!=r||"rgba"===e&&4!=r)return!1;for(var i=0;r>i;i++){var o=t[i];if("number"!==o.type||!w.number(o.value))return!1;n[i]=float(o.value)}var a={r:n[0],g:n[1],b:n[2]};return 4==r&&(a.a=n[3]),{type:"color",unit:e,value:a}}function r(e){for(var t=0,r="",n="",i=[],o=function(){1==s&&(r+="<?=v"+t++ +"?>",i.push(~~n),n="",s=0)},a=0,s=0,u=e.length;u>a;a++){var c=e.charAt(a);c>="0"&&"9">=c?(0==s&&s++,n+=c):(o(),r+=c)}return o(),{type:"text",tpl:L(r),value:i}}function n(r){var n,i=e.charAt(u+1);if("("===i){u+=2;var a=o();return a===!1?a:"rgb"===r||"rgba"===r?t(r,a):{type:"function",name:r,value:a}}return"%"===i&&++u&&(r+=i),w.number(r)?{type:"number",value:float(r),unit:f}:(n=C.unit(r))!==f?n:r in S.colors?{type:"color",unit:"rgb",value:h(S.colors[r])}:{type:"string",value:r}}function i(e){if("#"===e){var t=l.hex(u);if((u=t.endPos)&&0==t.error)return{type:"color",unit:"rgb",value:h(t.text)}}else if('"'===e||"'"===e){var i=l.keyword(u,2);if((u=i.endPos)>-1&&0==i.error)return r(i.text)}else if(w.alnum(e)||"-"===e||"."===e){var o=l.keyword(u,4);if((u=o.endPos)>-1&&0==o.error){var a=n(o.text);if(a!==!1)return a}}return!1}function o(){for(var t,r=[];c>u&&")"!==(t=e.charAt(u));u++)if(w.blankChar(t))u=l[d](u,c)-1;else if(","!==t){var n=a();if(n===!1)return!1;1==n.length?r.push(n[0]):r.push({type:"array",value:n})}return r}function a(){for(var t,r=[];c>u;u++){if(")"===(t=e.charAt(u))||","===t){u--;break}if(w.blankChar(t))u=l[d](u,c)-1;else{var n=i(t);if(n===!1)return!1;r.push(n)}}return r}var s,u=0,c=(e+="").length,l=new C(e,c),h=S.hex2rgb,d="skipWhiteSpace",p=a();return p===!1?f:(1===p.length?(s=p[0],s.text=e):s={type:"array",value:p,text:e},s)}},k:function(e,t,r){function n(){var t,r="",n="",i={},o=0;for(y++;u>y;y++)if("}"===(t=e.charAt(y))||3==o&&";"===t){if(3===o){if("animation-timing-function"===r)i[r]=n;else{var a=H.parser.value(n);if(a===f)return!1;i[r]=a}r=n="",o=0}if("}"===t)break}else if(3>o&&g(t))y=c[d](y,u)-1,0==o&&o++;else if(1==o)if(":"===t)o++;else{if("-"!==t&&!p(t))break;r+=t}else if(2==o)g(t)&&(y=c[d](y,u)),y--,o++;else if(3!=o||'"'!==t&&"'"!==t)3==o?n+=t:0===o&&(o++,y--);else{var s=c.keyword(y,2);if((y=s.endPos)&&0!==s.error)return!1;n+=t+_.escapeString(s.text,t)+t}return i}function i(t){for(var r,i,o="";u>y;y++)if("%"===(r=e.charAt(y))||","===r||"."===r||p(r))o+=r;else{if(!g(r)){if("{"===r)break;return!1}y=c[d](y,u)-1}return(i=n())!==!1?m(o,function(e,r){(r=S.percent(r))!==f&&(t[r]=v(t[r]||{},i))},!1,","):!1}function o(t){var r,n=c.keyword(y,0),o={};for(y=n.endPos+1;u>y&&"{"!==(r=e.charAt(y));y++)if(!g(r))return!1;for(y++;u>y&&"}"!==(r=e.charAt(y));y++)if(p(r)){if(i(o)===!1)return!1}else if(!g(r))return!1;return t.name=n.text,t.rules=o,!0}function a(){if(!p(e.charAt(++y)))return!1;var t,r=c.keyword(y,0);if("keyframes"!==r.text)return!1;for(y=r.endPos+1;u>y;y++){if(p(t=e.charAt(y))){var n={};if(o(n)===!1)return!1;l.keyframes.push(n);break}if(!g(t))return!1}return!0}for(var s,u=r===h?e.length:r,c=C(e,u),l={error:0,endPos:0,keyframes:[]},d="skipWhiteSpace",p=w.alnum,g=w.blankChar,y=t===h?0:t;u>y;y++)if("@"===(s=e.charAt(y))){if(a()===!1){l.error=1;break}}else if(!g(s)){l.error=1;break}return l.endPos=y,l}}),H.keyframes=b(function(){function e(e,t){return e===a?t:H.parser.value(t)}function t(e){if(e in u)return u[e];var t=N.keyframes(e);return t!==f?(H.append(t,!1),u[e]):f}var n="_timingFunction",o="_defaultProperty",a="animation-timing-function",s=H.timingFunction,u=H.data.keyframes;return{a:"events",e:{fps:60,delay:0,fillMode:"forwards",duration:0,direction:"normal",iterationCount:1,iterationDelay:!1,timingFunction:"linear"},i:{timer:f,state:"ready",stage:0,count:0,rules:f,stages:f,percents:f,property:f,backward:!1},f:{query:t},h:{backward:function(e){var t=this;return e===h?"alternate"===t.opts.direction&&t._count%2?!0:!1:(t._backward=e,t)},progress:function(e,t,r){var n=this,i=n._stageTimingFunc(t),o=n.updateValues(e.begin,e.end,e.from,e.to,i,r);return n.emit("progress",[o,r],!0)},stage:function(e){var t=this;if(e===h)return t._stage;var r=t._stageData=t._stages[e];return t._backward=t.backward(),t._stage=e,t._stageBegin=r.begin,t._stageEnd=r.end,t._stageTimingFunc=r.timingFunction||t[n],t},complete:function(){var e=this,t=e.opts,r=e._timer,n=e._backward,i=e._stageLength,o=t.fillMode,a=t.iterationCount,s=t.iterationDelay;return++e._count<a||"infinite"===a?(e.stage(e.backward()?i-1:0),r.stop().reset(),s||(r._t4=r.delay()),r.start(),e.emit("iteration",e._count)):("none"==o||n?e.progress(e._stages[0],0,100):"forwards"==o&&e.progress(e._stages[i-1],1,100),r.stop(),e._state="completed",e.stage(i-1).emit("complete")),e},findNextValue:function(e,t){for(var r,n=this,i=n._rules,a=n._percents,s=n[o],u=f,c=t||0,l=a.length;l>c;c++)if((r=i[a[c]][e])!==h){u=r;break}return u===f&&s&&e in s&&(u=s[e]),u},loadRules:function(n){var i=this,o={},s=[],u=i._property={},c=!0;if(r(n)){if(!(n=t(n)))return i;c=!1}for(var l in n){var d=n[l],p={};if(!((l=S.percent(l))===f||l>100||0>l)){s.push(l);for(var m in d)p[m]=c?e(m,d[m]+""):d[m],p[m]["%"]=l,u[m]===h&&m!==a&&(u[m]=p[m]);o[l]=p}}return 100 in o||(o[100]={},s.push(100)),i._rules=o,i._percents=s.order("asc"),i},formatStages:function(){for(var e=this,t=e._rules,r=e._stages=[],n=e._percents,i=e._timefns={},u=n[0],c=0,l=v({},e[o]||(0==u?t[u]:{})),h=l,d=0,p=n.length;p>d;d++){var m=n[d],g=t[m],y=r[d]={begin:c,end:m,from:v({},h),to:{},timingFunction:f};a in h&&(i[c]=y.timingFunction=s(h[a]),delete h[a]);for(var b in g)l[b]=g[b];for(b in l){var k=f;if(b in g)k=g[b];else if((k=e.findNextValue(b,d+1))===f)continue;y.to[b]=k}h=l,c=m}return e},updateValues:function(e,t,r,i,o,a){function s(r,i,s,u,c){if(t!==u||e!==s){var l=g._timefns[s]||g[n];return(r+(i-r)*l((a-s)/(u-s))).float(c)}var f=i-r,h=u-s,d=Math.over(e-s,h),p=Math.over(t-s,h);return(r+(d*f+(p-d)*f*o)).float(c)}function u(r,n,i,a){return i+(a-i)/2>e+(t-e)*o?r.value:n.value}function c(e,t,r,n){return t.name+"("+m(e,t,r,n,",")+")"}function l(e,t,r,n){var i=t.unit,o="px"===i||"deg"===i?0:4,a=s(e.value,t.value,r,n,o);return i===f?a:a+i}function d(e,t,r,n){var i=e.value,o=t.value,a=t.unit,u=[s(i.r,o.r,r,n),s(i.g,o.g,r,n),s(i.b,o.b,r,n)],c={r:u[0],g:u[1],b:u[2]};return"rgba"===a&&(i.a===h&&(c.a=1),u.push(c.a=s(i.a,o.a,r,n))),a+"("+u.join(",")+")"}function p(e,t,r,n){for(var i=e.value,o=t.value,a={},u=0,c=i.length;c>u;u++)a["v"+u]=s(i[u],o[u],r,n);return e.tpl.render(a)}function m(e,t,r,n,i){for(var o=e.value,a=t.value,s=[],u=0,c=a.length;c>u;u++){var l=a[u];l!==h&&s.push(v(o[u],l,r,n))}return s.join(i||" ")}function v(e,t,r,n){var i=t.type,o="";return e===h||t===h?"":(e.type!==i||("number"===i?o=l(e,t,r,n):"string"===i?o=u(e,t,r,n):"color"===i?o=d(e,t,r,n):"text"===i?o=p(e,t,r,n):"array"===i?o=m(e,t,r,n):"function"===i&&(o=c(e,t,r,n))),o)}var g=this,y={};for(var b in i){var k=r[b],x=i[b];if(k!=h&&x!=h)y[b]=v(k,x,k["%"]||0,x["%"]||100);else if(1===o&&x!==h){var w=x["%"];y[b]=v(x,x,w,w)}}return y}},j:{elapsedTime:0,fps:function(e){return this.opt("fps",e)},iterationCount:function(e){return this.opt("iterationCount",e)},iterationDelay:function(e){return this.opt("iterationDelay",e)},fillMode:function(e){return this.opt("fillMode",e)},duration:function(e){return r(e)&&(e=S.timeUnit(e,"ms")),this.opt("duration",e)},direction:function(e){return this.opt("direction",e)},delay:function(e){return this.opt("delay",e,function(){this._timer.delay(e)})},timingFunction:function(e){var t=this;return e===h?t[n]:(t[n]=s(e),t)},state:function(e){var t=this;return e===h?t._state:(t._state=e,t)},rules:function(e){var t=this;return e===h?t._rules:t.loadRules(e)},pause:function(){return this._timer.pause(),this.emit("pause")},stop:function(){var e=this;return e._timer.stop(),e.reset().emit("stop")},start:function(){var e=this,t=e.opts,r=t.duration,n=Math.ceil(1e3/t.fps);if("completed"==e._state&&e.reset(),e._stages===f){if(e._rules===f)return e;e.formatStages(),e.stage(0),e._stageLength=e._stages.length}return e._timer.interval(n>r?r:n).start(),e.emit("start")},reset:function(){var e=this;return e.stage(0),e._count=0,e._timer.reset(),e},clear:function(){var e=this;return e._count=0,e._property=f,e._rules=f,e._stage=0,e._stages=f,e._percents=f,e._timefns=f,e._timer.reset(),delete e._stageData,delete e._stageBegin,delete e._stageEnd,delete e._stageTimingFunc,e},remove:g(function(e){var t=this;e===h&&(t.clear(),t._timer.remove())},{each:[i]}),defaultProperty:function(t){var r=this;return t===h?r[o]:(r[o]=m(t,e,!0),r)}},k:function(e){var t=this,r=t.init_opts(e);"on"in r&&t.on(r.on),"rules"in r&&t.rules(r.rules),t.duration(r.duration),t.timingFunction(r.timingFunction),t._timer=new T(function(){var e=t._backward,n=t._stageData,i=t._stageBegin,o=t._stageEnd,a=r.duration,s=t.elapsedTime=this.elapsedTime,u=100*(s/a);s>=a?t.complete():!e&&u>=o?t.progress(n,1,o).stage(t._stage+1):e&&i>=100-u?t.progress(n,0,i).stage(t._stage-1):e?(u=100-u,t.progress(n,(u-i)/(o-i),u)):t.progress(n,(u-i)/(o-i),u)},{delay:r.delay,on:{stateChange:function(e){t._state=e}}})}}}),H.keyframes.united=P.unite(H.keyframes),N=P.css=b({type:1,f:{keyframes:function(e,t){var i=l.styleSheets,o=P.init.anim;if(!o||e===h||!i)return f;if(n(t)){var a=N(),s="@"+o+" "+e+"{",u=P.init.cssName;for(var c in t)s+=S.percent(c)+"%{",m(t[c],function(e,t){e in u&&(e=u[e]),s+=e+":"+(r(t)?t:t.text)+";"}),s+="}";return s+="}",a.sheet.insertRule(s,0),N}for(var d=0;d<i.length;d++)for(var p=i[d].cssRules||i[d].rules,v=0;v<p.length;v++){var g=p[v];if(g.name===e&&7===g.type){for(var y="",b=g.cssRules||g.rules,k=0;k<b.length;k++)y+=b[k].cssText;return"@keyframes "+e+"{"+y+"}"}}return f}},j:{length:0,enable:function(e){var t=this,r=t.sheet;return e===h?!r.disabled:(r.disabled=!e,t)},source:function(){for(var e=this,t=e.rules,r="",n=0;n<e.length;n++)r+=t[n].selectorText+"{"+t[n].style.cssText+"}";return r},insert:function(e,t,i){var o=this,a=o.sheet,s="";if(n(t)){var u=P.init.cssName;m(t,function(t,a){if((">"===t||" "===t)&&n(a))return m(a,function(r,n){o.insert(e+t+r,n,i)}),void 0;if(t in u&&(t=u[t]),t in N.hooks){var c=N.hooks[t](a);r(c)?s+=c:n(c)&&(s+=c.name+":"+c.value+";")}else s+=t.unCamelCase()+":"+a+";"})}else r(t)&&(s=t);return""===e||""===s||w.ie(6)&&-1!==e.indexOf(">")?void 0:(a.insertRule?a.insertRule(e+"{"+s+"}",i):a.addRule&&a.addRule(e,s,i),o.length++,o)},append:g(function(e,t){this.insert(e,t,this.length)},{each:[i,n]}),remove:g(function(e){var n=this;if(e===h)n._dom.remove();else if(t(e)){var i=n.sheet;i.deleteRule?i.deleteRule(e):i.removeRule&&i.removeRule(e),n.length--}else if(r(e))for(var o=n.rules,a=o.length-1;a>=0;a--)o[a].selectorText.toLowerCase()===e.toLowerCase()&&n.remove(a)},{each:[i]}),clear:function(){for(var e=this,t=e.length-1;t>=0;t--)e.remove(t);return e}},k:function(e,t){var r=this,i=r._dom=newDom("style").attr("type","text/css").appendTo(t||"head");r.sheet=i.dom.sheet||i.dom.styleSheet,r.rules=r.sheet.cssRules||r.sheet.rules,n(e)&&r.append(e)}}),N.hooks=function(){var e={},t="inline-block",r=P.init.css;return r.opacity||(e.opacity=function(e){return{name:"filter",value:"alpha(opacity="+100*e+")"}}),r.inlineBlock||(e.display=function(e){return e===t?"display:"+t+";zoom:1;":{name:"display",value:e}}),e}(),N.pseudos=function(){function e(e){return e.parentNode}function t(e,t,r){var n=D.elementIndex(e,null,r)+1,i=!1;if(w.number(t))return n==t;switch(t){case"even":case"2n":i=0==n%2;break;case"odd":case"2n+1":i=1==n%2;break;default:var o=t.replace(/(^|\D+)n/g,"$11n").split("n"),a=0|o[0],s=0|n-o[1];i=a*s>=0&&0==s%a}return i}var r="readOnly",n={focus:function(e){return e===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},target:function(e){var t=c.location.hash;return t&&t.slice(1)===e.id},parent:function(e){return!!e.firstChild},root:function(e){return e===l.documentElement},enabled:function(e){return e.disabled!==!1},disabled:function(e){return e.disabled===!1},"read-only":function(e){return e[r]===r||e[r]===!0},"read-write":function(e){return!n[r](e)},password:function(e){return"password"===e.type},has:function(e,t){return B.query(t,e,!1)!==f},not:function(e,t){return B.matchSelector(e,t)===!1},odd:function(e){return t(e,"odd")},even:function(e){return t(e,"even")},html:function(e,t){return e.innerHTML==t},value:function(e,t){return e.value==t},hidden:function(e){return"none"===D.getStyle(e,"display")&&D.contains(e,e.ownerDocument)},checked:function(e){var t=e.nodeName;return"INPUT"===t&&!!e.checked||"OPTION"===t&&!!e.selected},contains:function(e,t,r){return r!==h&&"true"==r+""?(e.innerHTML||"").indexOf(t)>-1:(e.textContent||e.innerText||"").indexOf(t)>-1},text:function(e){var t;return"INPUT"===e.nodeName&&"TEXT"===e.type&&((t=e.getAttribute("type"))==f||"text"===t.toLowerCase())},selected:function(t){return e(t)&&e(t).selectedIndex,t.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},"first-child":function(t){var r=e(t).firstChild;do if(!r||1===r.nodeType)break;while(r=r.nextSibling);return r===t},"last-child":function(t){var r=e(t).lastChild;do if(!r||1===r.nodeType)break;while(r=r.previousSibling);return r===t},"only-child":function(t){var r=!1,n=0,i=e(t).childNodes,o=i.length;if(0==o)return r;for(var a=0;o>a;a++)if(1===i[a].nodeType){if(n>0){r=!1;break}if(i[a]!==t){r=!1;break}r=!0,n++}return r},"nth-child":t,"nth-last-child":function(e,r){return t(e,r,!0)},"nth-of-type":function(e,r){for(var n=1;e=e.previousSibling;)e.tagName===e.tagName&&n++;return t(e,n,r)},"nth-last-of-type":function(e,r){for(var n=1,i=e.tagName;e=e.nextSibling;)e.tagName===i&&n++;return t(e,n,r)},"first-of-type":function(e){for(var t=e.tagName;e=e.previousSlibling;)if(e.tagName===t)return!1;return!0},"last-of-type":function(e){for(var t=e.tagName;e=e.nextSibling;)if(e.tagName===t)return!1;return!0},"only-of-type":function(t){for(var r=e(t).childNodes,n=r.length-1;n>-1;n--)if(r[n].tagName===t.tagName&&r[n]!==t)return!1;return!0}};return n}(),N.selector=B=function(){var e=d.cssSelector,t=function(e,t){if(9===e.nodeType)return!1;if(t.selector){var r=B.querySelectors(t.selector);if(r===f)return!1;for(var n=0,i=r.length;i>n;n++)if(r[n]===e)return!0;return!1}var o=t["#"],a=t.tag,s=t["."],u=t.attr,c=t[":"],l=t.content;switch(!0){case"*"!==a&&e.nodeName!==a:case o&&e.id!=o:case s&&!w.element.className(e,s):case u&&!B.matchAttr(e,u):case c&&!B.matchPseudos(e,c):case l&&!B.matchContent(e,l):return!1}return!0};return{caches:{},cacheSize:0,parse:function(e){var t=0,n=e.length,i=C(e,n),o=function(){for(var r="";n>t;t++){var i=e.charAt(t);if("\n"===i&&(i=" ")," "!==i&&"	"!==i&&">"!==i&&"<"!==i&&"+"!==i&&"~"!==i){t--;break}r+=i}return""===(r=r.trim())&&(r=" "),r},s=function(e){var r=":",n=i.pseudoClass(t);return t=n.endPos,0!=n.error?!1:(e[r]||(e[r]={}),e[r][n.name]=n.arguments,void 0)
},u=function(e){var r=i.attribute(t);return t=r.endPos,0!=r.error?!1:(e.attr||(e.attr=[]),e.attr.push({name:r.name,operator:r.operator,value:r.value}),void 0)},c=function(r){var o=e.charAt(++t),a="";if('"'===o||"'"===o){var s=i.keyword(t,2);if(t=s.endPos+1,0!=s.error)return!1;a=s.text}for(;n>t&&"}"!==(o=e.charAt(t));t++)a+=o;r.content=a},l={"[":u,":":s,"{":c},h=function(o){for(var s,u=0,c={tag:"*","<":o};n>t;t++){var f=e.charAt(t);if("#"===f||"."===f)s=i.keyword(++t,5),t=s.endPos,r(c[f])?c[f]+=" "+s.text:c[f]=s.text;else if("["===f||":"===f||"{"===f){if(l[f](c)===!1)return!1}else if("("===f){if(0!==u)return!1;t++;var h=p();a(h)||(c.selector=h)}else if("*"===f)if(0===u)c.tag=f;else{if(0!==(s=i.keyword(++t,1)).error)return!1;t=s.endPos,c[f]=s.text}else{if(!w.alnum(f)){t--;break}if(0!==u)return!1;t=(s=i.keyword(t,0)).endPos,c.tag=s.text.toUpperCase()}u=2}return 0==u?!1:c},d=function(){for(var r=[],i=f;n>t;t++){var a=e.charAt(t);if(","===a||")"===a)break;if("\n"!==a&&" "!==a&&"	"!==a&&">"!==a&&"<"!==a&&"+"!==a&&"~"!==a){var s=h(i);if(s===!1)return s;r.push(s)}else i=o()}return r},p=function(){for(var r=[];n>t;t++){var i=e.charAt(t);if(!w.blankChar(i)&&","!==i){if(")"===i)break;var o=d();if(!o)break;if(a(o)||r.push(o),")"===e.charAt(t))break}}return r};return p()},matchContent:function(e,t){var r=e.innerHTML;return r?r.trim()===t.trim():!1},matchAttr:function(e,t){for(var r=0,n=t.length,i=0;n>i;i++){var o=t[i],a=o.operator,s=o.value,u=e.getAttribute(o.name);if("="!=a&&"=="!=a&&""!=a||s!==h){if(!w.operator(o.value,a,u))break}else if(!u)break;r++}return r==n},matchPseudos:function(e,t){for(var r in t){var n=N.pseudos[r];if(!n||!n.apply(e,[e].mergeArray(t[r])))return!1}return!0},matchElement:t,findElements:function(e,t,r){if(e.selector)return B.querySelectors(e.selector,t);var n=e.tag,i=e["#"],o=e["."],a=e.attr,s=e[":"],u=e.content,c=f;if(i){var l=D.getElementById(i,t);if(l===f)return f;c=[l]}else c=D.getElementsByTagName(n,t);if(!(o||a||s||u))return r===!1&&c!==f?c[0]:c;if(c===f)return c;for(var h=[],d=w.element.className,p=B.matchAttr,m=B.matchPseudos,v=B.matchContent,g=0,y=c.length;y>g;g++){var b=c[g];if(!(i&&"*"!==n&&b.nodeName!==n||o&&!d(b,o)||a&&!p(b,a)||s&&!m(b,s)||u&&!v(b,u))){if(r===!1)return b;h.push(b)}}return 0==h.length?f:h},findSibling:function(e,r,n,i){var o="nextSibling",a=r,s=[];for(i===!1&&(o="previousSibling");a=a[o];)if(1===a.nodeType&&t(a,e)){if("+"===n)return[a];"~"===n&&s.push(a)}return 0==s.length?f:s},findRelativeElement:function(e,r,n,i){var o=r;if(">"==n){if(w.find(o=o.parentNode,i))return f;if(t(o,e))return o}else if(" "==n)for(;o=o.parentNode;){if(w.find(o,i))return f;if(t(o,e))return o}else if(("+"==n||"~"==n)&&B.findSibling(e,r,n,!1)!==f)return r;return f},matchSelector_P1:function(e,t,r){for(var n=t.length,i=t[n-1]["<"],o=n-2,a=e;o>=0;o--){var s=t[o];if((a=B.findRelativeElement(s,a,i,r))===f)return!1;i=s["<"]}return!0},matchSelector_P2:function(e,r,n){for(var i=r.length,o=[e],a=e;(a=a.parentNode)&&!w.find(a,n)&&9!==a.nodeType;)o.push(a);var s=o.length;if(0==s)return!1;var u=function(e,n,i){var o=r[i+1]["<"];if(" "==o){for(;--n>=0;)if(t(e[n],r[i])){if(0>i-1)return!0;if(0!=u(e,n,i-1))return!0}else if(0>i)return!1}else if(">"==o){if(t(e[--n],r[i]))return--i<0?!0:u(e,n,i)}else if("+"==o||"~"==o){var a=B.findSibling(r[i],e[n],o,!1);if(a!==f)return--i<0?!0:u(e,n,i)}return!1};return 1==u(o.reverse(),s-1,i-2)},matchSelector:function(e,n,i){r(n)&&(n=B.parseSelector(n));for(var o=0,a=n.length;a>o;o++){var s=n[o],u=s.length,c=B.getMatchMethod(s);if(!(1>u)&&t(e,s[u-1])&&(1==u||c(e,s,i)))return!0}return!1},getMatchMethod:function(e){for(var t=0,r=0,n=1,i=e.length;i>n;n++){var o=e[n]["<"];">"==o&&1!=r&&(r=1),n>1&&" "==o&&(t=1)}return 0==r&&(t=0),0==t?B.matchSelector_P1:B.matchSelector_P2},querySelector:function(e,t,r){var n=e.length,i=B.findElements;if(0===n)return f;if(1===n)return i(e[n-1],t,r);var o=i(e[n-1],t);if(o===f)return f;for(var a=o.length,s=[],u=B.getMatchMethod(e),c=0;a>c;c++)if(u(o[c],e,t)===!0){if(r===!1)return o[c];s.push(o[c])}return 0==s.length?f:s},querySelectors:function(e,t,r){var n=e.length,i=B.querySelector;if(1===n)return i(e[0],t,r);for(var o=[],a=0;n>a;a++){var s=i(e[a],t,r);if(s){if(r===!1)return s;for(var u=0,c=s.length;c>u;u++)o.push_uniq(s[u])}}return 0==o.length?f:o},parseSelector:function(t){var r=f,n=B.caches,i=B.parse;return!e.cache||t.length>50?i(t):(B.cacheSize>e.maxCacheSize&&(B.caches=n={},B.cacheSize=0),n[t]?r=n[t]:(B.cacheSize++,r=n[t]=i(t)),r)},query:function(e,t,n){r(t)&&(e=t+" "+e,t=f);var i=B.parseSelector(e);return B.querySelectors(i,t,n)}}}(),N.html=b({f:{attrText:function(e){var t=e.name,r=e.operator,n=e.value;return""===r&&n==f?t:t+r+'"'+_.escapeString(n,'"')+'"'},nodeHtml:function(e,t,n){var i="<"+(e=e.toLowerCase());return m(t,function(e,t){i+=" ",i+=r(t)?t:N.html.attrText(t)}),a(n)&&w.singleTag(e)?i+" />":(i+=">",n!=f&&(i+=n),i+"</"+e+">")},makeNodeHtml:function(e,t){var r="",n="",i=e.tag,o=e["*"],a=e["#"],s=e["."],u=e.attr,c=e[":"],l=e.content,f=[],h=function(e,t){f.push({name:e,operator:"=",value:t})};if("*"==i&&(i="div"),a&&h("id",a),s&&h("class",s),u&&f.mergeArray(u),l&&(n+=l),t&&(n+=t),c&&(m({password:"type"},function(e,t){c[e]&&h(t,e)}),m("checked selected disabled readOnly hideFocus",function(e,t){c[t]&&f.push(t)})),o)for(var d=0;o>d;d++)r+=N.html.nodeHtml(i,f,n);else r=N.html.nodeHtml(i,f,n);return r},makeHtml:function(e,t){var r="",n="";t!=f&&(r=n=t);for(var i=e.length-1,o=f;i>=0;i--){var a=0,s=e[i],u="";o&&" "!=o&&">"!=o?("+"==o||"~"==o)&&(a=1,n=t):n=r,s.selector?m(s.selector,function(e,t){u+=N.html.makeHtml(t,n)}):u=N.html.makeNodeHtml(s,n),0==a?r=u:1==a&&(r=u+r),o=s["<"]}return r}},k:function(e,t){for(var r="",n=B.parseSelector(e),i=0,o=n.length;o>i;i++)r+=N.html.makeHtml(n[i],t);return r}}),D=P.dom=b(function(){var o=c.document.documentElement,u=/<(?:script|style|link)/i,p=P.init,y=p.dom,b=p.cssName,x="__StdWidget__",_="__StdEvents__",S="__StdData__",T="__StdAnimation__",C={extend:g(function(e,t){this.prototype[e]=t},{each:[n,i]})},F=C.contains=function(e,t){var r=!1;return A(e)&&(e=e.document.documentElement),r=e===t?!0:y.contains?(9===t.nodeType?t.documentElement:t).contains(e):y.compareDocPos?!!(16&t.compareDocumentPosition(e)):w.element.descendant(e,t)},A=C.isWindow=function(e){return e!=f&&e==e.window},E=C.window=function(e,t){return A(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:t===!0?!1:c},M=C.inDocument=function(e){return F(e,e.documentElement||o)},j=C.document=function(e){return 9===e.nodeType?e:E(e).document},R=C.loadHTML=function(e){t(e)&&(e+="");var r=P.init.dom.innerFullHTML,n=l.createElement("div"),i=[];if(n.innerHTML=r?"<a>a</a>"+e:e,r&&n.removeChild(n.firstChild),d.dom.enableScript&&-1!=e.indexOf("</script>")){var o=J("script",n);if(o!==f)for(var a=0,s=o.length;s>a;a++){var u=o[a],c=u.type;u.type=c?c+"/":"//",u["*"]=1}}for(i.mergeArray(n.childNodes),n.textContent="";n.firstChild;)n.removeChild(n.firstChild);return i},O=C.behaviorScript=function(e,t){var r=D(e),n="__StdLoadScript__",i="text/std-",o=e.type;if(r.hasData(n))return!1;if(r.data(n,1),o===f||""===o||"text/javascript"===o)t!==!1&&P.eval(r.text());else if(o.left(9)===i){var s=o.substring(9),u="true"===r.attr("render-here");if("animation"===s)H.append(e);else if(o===i+"css-selector"){if(u){var c=N.html(r.html()),l=K(c);r.parent().insertBefore(l,r),r.remove()}}else o===i+"template"&&(u||!a(r.attr("std-name")))&&new L({element:r})}else o in O&&O[o](o,r);return!0},q=function(e,t){var n=e.ownerDocument;if(t.call(e,e),d.dom.enableScript&&F(e,n)){var i=J("script",e);if(i!==f)for(var o=0,a=i.length;a>o;o++){var s=i[o];if(1===s["*"]){var u=s.type;"//"===u?s.removeAttribute("type"):r(u)&&"/"===u.right(1)&&(s.type=u.substr(0,u.length-1)),s["*"]=0,O(s)}}}},I=C.get=function(e,t){var o=f;return e===h?o:(n(e)?e instanceof D?o=e.dom:e.nodeType||A(e)?o=e:s(e)?o=e[0].dom:i(e)?o=I(e[0]):e.jquery&&e.length&&(o=e.get(0)):r(e)&&(o=tt(e,t,!1)),o)},U=C.getStyle=function(e,t){return t in b&&(t=b[t]),e.style[t]?e.style[t]:e.currentStyle?e.currentStyle[t]:E(e).getComputedStyle?E(e).getComputedStyle(e,f).getPropertyValue(t.unCamelCase()):""},X=C.setStyle=function(e,t,r){t in b&&(t=b[t]);try{e.style[t]=r+""}catch(n){}return D},Y=C.clear=function(e){for(var t;t=e.firstChild;)e.removeChild(t);return D},V=C.addListener=function(e,t,r,n,i){var o="addEventListener";return e[o]?e[o](t,r,n||!1,i):e.attachEvent("on"+t,r),D},$=C.removeListener=function(e,t,r,n,i){var o="removeEventListener";return e[o]?e[o](t,r,n||!1,i):e.detachEvent("on"+t,r),D};C.on=function(e,t){return m(t,function(t,r){return D.united(t).on(e,r)},!0)},C.off=function(e,t){return m(t,function(t,r){return D.united(t).off(e,r)},!0)};var K=C.fragment=function(e){var o=l.createDocumentFragment();if(e===h)return o;if(i(e))m(e,function(e,t){(t=I(t))!==f&&o.appendChild(t)});else if(r(e)||t(e))for(var a=R(e),s=0,u=a.length;u>s;s++)o.appendChild(a[s]);else n(e)&&o.appendChild(I(e));return o},Q=C.clone=function(e,t){return e?e.cloneNode(t===h?!0:t):null},Z=C.insertHTML=function(e,t,r){return q(e.parentNode,function(){if(e.insertAdjacentHTML)e.insertAdjacentHTML(t.toLowerCase(),r);else{var n=K(r),i=e.parentNode;"BeforeBegin"==t?i&&i.insertBefore(n,e):"AfterBegin"==t?e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n):"BeforeEnd"==t?e.appendChild(n):"AfterEnd"==t&&i&&(i.lastChild===e?i.appendChild(n):i.insertBefore(n,e.nextSibling))}}),D},G=C.elementIndex=function(e,t,n){var i=-1,o=e.parentNode;if(!o)return i;var a=o.childNodes;if(!a||0===a.length)return i;var s=0,u=a.length,c=f;for(r(t)&&(c=B.parseSelector(t));u>s;s++){var l=a[s];if(1===l.nodeType&&(!c||B.matchSelector(l,c,e))&&(i++,l===e))break}return n===!0&&-1!==i&&(i=u-i),i};C.getElementById=function(e,t){var r=l.getElementById(e);if(r===f)return f;if(r.id!==e)for(var n=l.all[e],i=0,o=n.length;o>i;i++)if(n[i].id===e){r=n[i];break}return r===f||t&&!w.element.descendant(r,t)?f:r};var J=C.getElementsByTagName=function(e,r){var n="getElementsByTagName";if(!r)return l[n](e);var i=r.length;if(t(i)){var o=l[n](e),a=o.length;if(0==a)return f;for(var s=[],u=0;a>u;u++){var c=o[u];if(1==c.nodeType)for(var h=0;i>h;h++)if(w.element.descendant(c,r[h])){s.push(c);break}}return 0==s.length?f:s}return r[n](e)};C.getElementsByClassName=function(e,r,n){var i=[],o=[],a="getElementsByClassName";if(r=r?r.toUpperCase():"*",l[a]){var s=l[a](e),u=s.length;if(n){var c=n.length;if(t(c))for(var h=0;u>h;h++)for(var d=s[h],p=0;c>p;p++){var m=n[p];if(w.element.descendant(d,m)){i.push(d);break}}else for(var h=0;u>h;h++)w.element.descendant(s[h],n)&&i.push(s[h])}else i=l[a](e);var v=i.length;if(0===v)return f;if("*"!==r)for(var h=0;v>h;h++)i[h].nodeName===r&&o.push(i[h]);else o=i}else{var v=(i=J(r,n)).length;if(0===v)return f;for(var g=e.split(" "),y=g.length,h=0;v>h;h++){var b=i[h].className;if(b){for(var k=0,x=b.split(" "),_=x.length,p=0;y>p;p++)for(var S=0;_>S;S++)if(g[p]===x[S]){k++;break}k==y&&o.push(i[h])}}}return 0===o.length?f:o},C.getElementsByName=function(e,t,r){return et("name","=",e,t,r)};var et=C.getElementsByAttribute=function(e,t,r,n,i){if(!e||!t||!r)return f;var o=J(n||"*",i);if(o===f)return o;for(var a=[],s=0,u=o.length;u>s;s++){var c=o[s],l="";l=D.attrHook[e]?D.attrHook[e](c):c.getAttribute(e),w.operator(r,t,l)&&a.push(c)}return a.length>0?a:f};C.getElementsByPseudoClasses=function(e,t,r,n){if(!e&&!N.pseudos[e])return f;i(t)||(t=[]);var o=J(r||"*",n);if(o!==f){for(var a=[],s=0,u=o.length;u>s;s++){var c=o[s],l=N.pseudos[e].apply(c,t);if(l===!0)a.push(c);else{if(l===!1)break;if(l!==h)return l}}return 0==a.length?f:a}return f};var tt=C.query=function(e,t,r){return t!==f&&!i(t)&&n(t)&&(t=I(t)),B.query(e,t,r)};C.create=function(){};var rt={clone:function(e){return D(Q(this.dom,e))},document:function(){return j(this.dom)},offsetParent:function(){for(var e=this.dom,t=e.offsetParent||o;t&&"HTML"!==t.nodeName&&"static"===U(t,"position");)t=t.offsetParent;return D(t||o)},parent:function(){return D(this.parentNode())},parentNode:function(){return this.dom.parentNode||f},index:function(e){return G(this.dom,e)},cssText:function(e,t){var r=this,i="cssText",o=r.dom.style;if(e===h)return o[i];if(n(e)){var a="";m(e,function(e,t){if(e in b)b=b[e];else if(e in N.hooks){var r=N.hooks[e](t);e=r.name,t=r.value}a+=e+":"+t+";"}),e=a}return t===!0?o[i]+=";"+e:o[i]=e,r},backgroundImage:function(e){var t=this,r="backgroundImage";return e!==h?t.css(r,"url('"+e+"')"):(e=t.css(r))?(m(e=e.replace(/url\(([^)]+)\)/g,"$1"),function(t,r){'"'==r&&e.split(t,1)}),e):""},boxSize:function(e){for(var t=this,r={width:0,height:0},n=["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],i=["paddingRight","paddingLeft","borderRightWidth","borderLeftWidth"],o=0;4>o;o++){var a=i[o],s=n[o];r.width+=r[a]=int(t.css(a))||0,r.height+=r[s]=int(t.css(s))||0}if(e===!0){var u=["marginTop","marginRight","marginBottom","marginLeft"];r.height+=(r[u[0]]=int(t.css(u[0])))+(r[u[2]]=int(t.css(u[2]))),r.width+=(r[u[1]]=int(t.css(u[1])))+(r[u[3]]=int(t.css(u[3])))}return r},inDocument:function(){return M(this.dom)},offset:function(){var e,t=this,r=t.dom,n=r.documentElement||o,i=E(r);return!M(r)||A(r)?{x:0,y:0}:("getBoundingClientRect"in r&&(e=r.getBoundingClientRect()),{x:e.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0),y:e.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0)})},position:function(){var e=this,t=e.dom,r=0,n=0;if(A(t)||9===t.nodeType)return{x:0,y:0};if("fixed"===e.css("position")){var i=t.getBoundingClientRect();r+=i.top,n+=i.left}else{var i=e.offset(),o=e.offsetParent();if("html"!==o.nodeName()){var a=o.offset();n-=a.x,r-=a.y}r+=i.y-o.css("borderTopWidth"),n+=i.x-o.css("borderLeftWidth")}return{x:n-e.css("marginLeft"),y:r-e.css("marginTop")}},pageX:function(){var e=this.dom;return e.offsetParent?e.offsetLeft+this.offsetParent().pageX():e.offsetLeft},pageY:function(){var e=this.dom;return e.offsetParent?e.offsetTop+this.offsetParent().pageY():e.offsetTop},visible:function(e){var t=this,r=t.dom,n=t.css("display"),i="none"!==n;if(e===h)return i;var o="display",a="_"+o,s=r[a];return 1==e&&0==i?s?(r[a]="",t.css(o,s)):t.css(o,"block"):0==e&&1==i&&(r[a]=n,t.css(o,"none")),t},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},size:function(e,t){return e===h?this.css(["width","height"]):this.css({width:e,height:t})},hasClass:function(e){return w.element.className(this.dom,e)},addClass:g(function(e){var t=this;r(e)&&!t.hasClass(e)&&(t.dom.className+=" "+e)},{each:[i]}),removeClass:function(e){var t=this,n=t.dom;if(i(e)){for(var o=n.className.split(" "),a=0,s=e.length;s>a;a++)for(var u=0,c=o.length;c>u;u++)e[a]==o[u]&&delete o[u];n.className=o.join(" ").trim()}else r(e)&&t.removeClass(e.split(" "));return t},toggleClass:function(e,t){var r=this;return t===!1?r.removeClass(e):t===!0?r.addClass(e):r.hasClass(e)?r.removeClass(e):r.addClass(e),r},contains:function(e){return F(I(e),this.dom)},is:function(e){var t=this,i=t.dom,o=!1;return o=r(e)?B.matchSelector(i,e):n(e)?I(e)===i:i===e},html:function(e){var t=this,i=t.dom;return e===h?i.innerHTML:(n(e)||r(e)&&u.test(e)?(Y(i),t.append(e)):i.innerHTML=e,t)},outerHTML:function(e){var t=this,r=t.dom;return e===h?r.outerHTML:(r.outerHTML=e,t)},insertHTML:function(e,t){var r=this;return Z(r.dom,e,t),r},sheetText:function(e){var t=this,r=t.dom,n=r.styleSheet,i="";if(e===h){if(n)i=n.cssText;else if(r.sheet){var o=r.sheet.cssRules;if(o&&o.length)for(var a=0,s=o.length;s>a;a++)i+=o[a].cssText}return i}return n!==h?n.cssText=e:(Y(r),t.append(l.createTextNode(e))),t},text:function(e){var t=this,r=t.dom;return e===h?r.text||r.textContent||r.innerHTML||"":(Y(r),t.append(l.createTextNode(e)))},value:function(e){var t=this,r=t.dom;return e===h?((e=r.getAttribute("value"))==f&&(e=r.value)===h&&(e=f),e):(r.value===h?r.setAttribute("value",e):r.value=e,t)},contentEditable:function(e){var t=this,r=t.dom,n="contentEditable";return e===h?r[n]||!1:(r[n]=e,t)},selection:function(){var e=this.dom;return j(e).selection||E(e).getSelection()||f},selectionRange:function(e){var t=this,r=t.selection(),n="createRange"in r;return e===h?n?r.createRange():r.getRangeAt(0):(e.select?e.select():(r.removeAllRanges(),r.addRange(e)),t)},selectedHTML:function(e){var r=this,n="",i=r.dom,o="selectionStart",a=e||r.selectionRange();return n="htmlText"in a?a.htmlText:t(i[o])?r.value().substring(i[o],i.selectionEnd):newDiv().append(a.cloneContents()).html()},selectedText:function(e){var r=this,n="",i=r.dom,o="selectionStart",a=e||r.selectionRange();return n="text"in a?a.text:t(i[o])?r.value().substring(i[o],i.selectionEnd):newDiv().append(a.cloneContents()).text()},select:function(e,t){var r=f,n=this.dom,i="select",o="createTextRange";if(i in n){var a="character",s="setSelectionRange";e===h?n[i]():o in n?(r=n[o](),r.collapse(),r.moveEnd(a,t),r.moveStart(a,e),r[i]()):s in n&&(n.focus(),n[s](e,t))}else{var u=E(n),c=j(n),l=c.body;if(l&&l[o])r=l[o](),r.moveToElementText(n),r[i]();else if(u.getSelection){var d=u.getSelection();r=c.createRange(),r.selectNodeContents(n),d.removeAllRanges(),d.addRange(r)}}return this},firstChild:function(){return D(this.dom.firstChild)},lastChild:function(){return D(this.dom.lastChild)},findSibling:function(e,t,r){var n,i,o=this,s=o.dom,u="nextSibling",c=f;switch(e){case"next":i=s[u];break;case"prev":u="previousSibling",i=s[u];break;case"all":var l=s.parentNode;l&&(i=l.firstChild)}if(!i)return f;r===!0&&(c=[]),t!=h&&(n=B.parseSelector(t));do if(i!==o.dom&&1===i.nodeType)if(t==h){if(r!==!0)return D(i);c.push(D(i))}else if(B.matchSelector(i,n)){if(r!==!0)return D(i);c.push(D(i))}while(i=i[u]);return a(c)&&(c=f),c},nextSibling:function(e){return this.findSibling("next",e)},nextSiblings:function(e){return this.findSibling("next",e,!0)},prevSibling:function(e){return this.findSibling("prev",e)},prevSiblings:function(e){return this.findSibling("prev",e,!0)},sibling:function(e){return this.findSibling("all",e)},siblings:function(e){return this.findSibling("all",e,!0)},swap:function(e){var t=this,r=t.parentNode(),n=t.dom,i=I(e),o="insertBefore",a="appendChild";if(!i||!r||n===i)return t;var s=n.nextSibling,u=i.nextSibling;return s?u?(r[o](n,u),r[o](i,s)):(r[o](i,s),r[a](n)):(r[o](n,u),r[a](i)),t},appendChild:g(function(e){var o=this,a=o.dom;(r(e)||t(e)||i(e))&&(e=K(e)),n(e)&&q(a,function(){a.appendChild(I(e))})}),insertBefore:g(function(e,n){var o=this,a=o.dom;if(n===h){var s=(e=I(e)).parentNode;s&&q(s,function(){s.insertBefore(a,e)})}else e=r(e)||t(e)||i(e)?K(e):I(e),q(a,function(){a.insertBefore(e,I(n))})}),insertAfter:g(function(e,n){var o,a=this,s=a.dom;if(n===h){var u=(e=I(e)).parentNode;u&&q(u,function(){u.lastChild===e?u.appendChild(s):u.insertBefore(s,e.nextSibling)})}else e=r(e)||t(e)||i(e)?K(e):I(e),q(s,function(){s.lastChild===(o=I(n))?s.appendChild(e):s.insertBefore(e,o.nextSibling)})}),detach:function(){var e,t=this,r=t.dom;return(e=r.parentNode)&&e.removeChild(r),t},remove:g(function(e){var t=this,r=t.dom;e===h?(r[x]!==h&&r[x].remove(),r[S]=r[_]=f,t.detach()):r.removeChild(I(e))},{each:[i]}),prepend:function(e){var t=this,r=t.firstChild();return r?t.insertBefore(e,r):t.append(r),t},prependTo:function(e){return D(e).prepend(this),this},append:function(e){return this.appendChild(e)},appendTo:function(e){return D(e).append(this),this},clear:function(){return Y(this.dom),this},childNodes:function(){return this.dom.childNodes},children:function(i){var o,s=0,u=this,c=[],l=u.dom,d=l.childNodes;if(!d||0===(o=d.length))return f;if(i===h)for(;o>s;s++)1===d[s].nodeType&&c.push(D(d[s]));else if(t(i))c=d[i]||f;else if(e(i))for(;o>s;s++){var p=d[s],m=i.call(u,s,p);if(m!==h)if(m===!0)c.push(p);else{if(m===!1)break;n(m)&&c.push(m)}}else if(r(i))for(var v=B.parseSelector(i);o>s;s++)1===d[s].nodeType&&B.matchSelector(d[s],v,l)&&c.push(D(d[s]));return a(c)&&(c=f),c},find:function(e){var t=tt(e,this.dom);if(a(t))return f;for(var r=[],n=0,i=t.length;i>n;n++)r.push(D(t[n]));return a(t)&&(r=f),r},hover:function(e,t){return this.mouse({enter:e,leave:t})},ajax:function(){var e=this;return z.load.apply(e,arguments).on("success",function(t){e.html(t)})},data:g(function(e,t){var r=this,n=r.dom,i=e.camelCase();return n[S]||(n[S]={}),t==h?(t=n[S][i],t===h&&(t=n.dataset?n.dataset[i]:r.attr(e)),t===h&&(t=f),t):(n[S][i]=t,void 0)},{each:[n]}),hasData:function(e){var t=this.dom;return e=e.camelCase(),t[S]&&t[S][e]!==h||t.dataset&&t.dataset[e]!==h||this.attr(e)!==f},removeData:g(function(e){var t=this,r=t.dom,n=e.camelCase();e===h&&(r[S]={}),r[S]&&delete r[S][n],r.dataset&&r.dataset[n]?delete r.dataset[n]:t.attr(n)!==f&&t.removeAttr(n)},{each:[i,r]}),style:function(e){var t=this.dom,n=t.style;return e===h?n:r(e)?n[e]:void 0},getStyle:function(e){var t=this,r=t.dom,n=D.cssHook;return r===f?f:n[e=e.camelCase()]?n[e].call(t,r):U(r,e)},setStyle:function(t,r){var n=this,i=n.dom,o=D.cssHook;return i===f?n:(e(r)&&(r=r.call(n,n.getStyle(t))),o[t=t.camelCase()]?o[t].call(n,i,r):X(i,t,r),n)},css:function(e,t){var o=this;if(r(e)){if(t===h)return o.getStyle(e);o.setStyle(e,t)}else if(i(e)){if(t===h){var a={};return m(e,function(e,t){a[t]=o.css(t)}),a}m(e,function(e,r){o.setStyle(r,t)})}else n(e)&&m(e,function(e,t){o.setStyle(e,t)});return o},attr:g(function(t,r){var n=this,o=n.dom,a=D.attrHook;if(i(t)){if(r===h){var s={};return m(t,function(e,t){s[t]=n.attr(t)}),s}m(t,function(e,t){n.attr(t,r)})}else{if(r==h){var u;return u=a[t]?a[t].call(n,o):o.getAttribute(t),u===h&&(u=f),u}e(r)&&(r=r.call(n,n.attr(t))),t in a?a[t].call(n,o,r):o.setAttribute(t,r)}},{each:[n]}),removeAttr:g(function(e){this.dom.removeAttribute(e)},{each:[i,r]}),removeStyle:g(function(e){var t=this,r=t.dom.style;return e===h?r.cssText="":(r.removeAttribute?r.removeAttribute(e):r.removeProperty(e.unCamelCase()),void 0)},{each:[i,r]}),on:g(function(t,i,o){var a=this,s=a.dom,u=s[_],c=f,l=f,h=E(s);if(e(i)&&(o=i,i=f),r(i)&&(c=B.parseSelector(i)),!e(o))return a;n(u)||(u=s[_]={});var d=D.eventFix,p=d.mouseEvents.exist(t),m=d.keyEvents.exist(t),v=function(e){(e=e||h.event||f)!==f&&(d(e),p?d.mouse(e):m&&d.keyboard(e),e.name=t),a.emit(t,e,!1,!0,l)};if(!u[t]){u[t]=[];var g=t,y=!1;if(t in D.eventHook){var b=D.eventHook[t];l=b.check,g=b.name,y=b.useCapture}V(s,u[t].eventName=g,u[t].eventFunc=v,y)}u[t].push({callback:o,selector:c,selectorText:i||f})},{each:[i,n,r]}),off:g(function(t,n,i){function o(){var e=u[t].eventName,r=u[t].eventFunc;$(s,e,r),delete u[t]}var a=this,s=a.dom,u=s[_];if(u)if(e(n)&&(i=n,n=f),t===h)m(u,function(e){a.off(e)});else if(u[t])if(i!==h||r(n)){for(var c=u[t],l=c.length,d=l-1;d>=0;d--){var p=c[d];if(p!==h)if(n===f){if(i===h||p.callback===i){c.splice(d,1),l--;break}}else if(!(i!==h&&i!==p.callback||n!==p.selectorText&&n!==p.selector)){c.splice(d,1),l--;break}}0>=l&&o()}else u[t].clear(),o();else;},{each:[i,n,r]}),emit:g(function(t,r,i,o,a){var s,u=this,c=u.dom,l=i?"apply":"call";if("boolean"==typeof t)return u.emitTurn=t,u;if(!c[_]||!(s=c[_][t])||u.emitTurn===!1)return u;for(var f=function(e,t){var r=e.target;do if(B.matchSelector(r,t,c))return r;while(r=r.parentNode);return!1},h=(function(){"stopPropagation"in r&&(r.stopPropagation(),r.preventDefault())}),d=0,p=s.length;p>d;){var m=s[d],v=c;!n(m)||o===!0&&n(m.selector)&&!(v=f(r,m.selector))||e(a)&&a.call(v,r)===!1?d++:(m.callback[l](v===c?u:D(v),r)===!1&&h(),m===s[d]&&d++)}return u},{each:[i,r]}),once:k.prototype.once,eventAssign:k.prototype.eventAssign,delegate:function(e,t,r){return this.on(e,t,r)},undelegate:function(e,t,r){return this.off(e,t,r)},set:function(e){var t=this;if(n(e))for(var r in e)t[r](e[r]);return t},keybord:function(t){function r(e){var t=u.button;if(t===f)return!0;var r=!0;return m(t,function(t,n){return"ctrl"===n&&!e.ctrlKey||"alt"===n&&!e.altKey||"shift"===n&&!e.shiftKey?r=!1:void 0}),r}function n(t){return s=0,e(u.press)&&r(t)?u.press.call(a,t):void 0}function i(t){return 1==s&&n(t),e(u.up)&&r(t)?u.up.call(a,t):void 0}function o(t){return s=1,D(l).once("keyup",i),e(u.down)&&r(t)?u.down.call(a,t):void 0}var a=this,s=0,u=v({down:f,up:f,press:f,button:f},t);return a.on("keydown",o)},mouse:function(t,r){function n(t){return l.classStatus&&u.removeClass("press"),l.unselect&&u.off("selectstart",h),e(l.up)?l.up.call(u,t):void 0}function i(t){return c.once("mouseup",n),l.classStatus&&1===t.which&&u.addClass("press"),l.unselect&&(t.preventDefault(),u.on("selectstart",h)),e(l.down)?l.down.call(u,t):void 0}function a(t){return u.off("mousedown",i),l.classStatus&&u.removeClass("hover"),e(l.click)&&u.off("click",l.click),e(l.dblclick)&&u.off("dblclick",l.dblclick),e(l.leave)?l.leave.call(u,t):void 0}function s(t){return u.on("mousedown",i).once("mouseleave",a),l.classStatus&&u.addClass("hover"),e(l.click)&&u.on("click",l.click),e(l.dblclick)&&u.on("dblclick",l.dblclick),e(l.enter)?l.enter.call(u,t):void 0}var u=this,c=D(o),l=v({enter:f,leave:f,down:f,up:f,click:f,dblclick:f,unselect:!1,classStatus:!0,auto:!0},e(t)?t():t),h=g(!1);return l.auto?u.on("mouseenter",s):s.call(u,r),u},sizeControl:function(e,t,n){var o=this,a=0;if(i(t))for(var s=0,u=t.length;u>s;s++)a+=o.css(t[s]);else r(t)&&(a+=o.css(t));return n===h?e===f?a:o.css(e)+a:(o.dom.style[e]=n-a+"px",o)},widget:function(e,t){var i=this,o=i.dom;return e===h?o[x]||f:(s(e)?o[x]=e:n(e)&&e.ui?o[x]=W(e.ui,e):r(e)&&n(t)&&(o[x]=W(e,t)),o[x]&&o[x].renderTo(i),i)},animate:function(n,o,a){function s(t){var r={},n=new H.keyframes(o).rules(t).on({pause:function(){r={}},progress:function(e){for(var t in e){var n=e[t];r[t]!==n&&l.setStyle(t,r[t]=n)}},complete:function(){var t=c._("indexOf",n);-1!==t&&c._("remove",t),++v==p&&e(a)&&a.call(l,p,n)}});n.defaultProperty(m(n._property,function(e){return l.css(e)},!0)).start(),c._(n),p++}var u,c,l=this,f=l.dom,d="keyframes",p=0,v=0;if(u=f[T]?f[T]:f[T]={},c=u[d]?u[d]:u[d]=new H.keyframes.united,n===h)return c;if(o===h&&r(n)){switch(n){case"start":case"pause":case"stop":c[n]()}return l}return t(o)&&(o={duration:o}),c.remove(),c._("clear"),i(n)?m(n,function(e,t){s(t)}):s(n),c},animation:function(){}};m({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r=/Y/.test(t);rt[e]=function(n){var i=this,o=i.dom,a=E(o,!0);return n===h?a?t in a?a[t]:a.document.documentElement[e]:o[e]:(a?a.scrollTo(r?D(a).scrollLeft():n,r?n:D(a).scrollTop()):o[e]=n,i)}}),m("scrollWidth scrollHeight offsetWidth clientWidth offsetHeight clientHeight offsetLeft offsetTop tagName nodeName type className readyState",function(e,t){rt[t]=function(e){var r=this,n=r.dom;return e===h?n[t]:(n[t]=e,r)}}),m("opacity outerWidth outerHeight zIndex cursor color width height",function(e,t){rt[t]=function(e){return this.css(t,e)}}),m("id name",function(e,t){rt[t]=function(e){return this.attr(t,e)}}),m("submit focus blur",function(e,t){rt[t]=function(){var e=this,r=arguments,n=e,i=e.dom;return t in i&&(n=r.length>0?i[t].apply(i,r):i[t](),n===h&&(n=e)),n}});var nt=g(!1);return m({unselect:"Std_unselect",wordwrap:"Std_wordwrap",wordnowrap:"Std_wordnowrap"},function(e,t){rt[e]=function(r){return"unselect"==e&&this[r?"on":"off"]("selectstart",nt),this.toggleClass(t,r)}}),{f:C,j:rt,k:function(e,t){var n,o=this,a=o instanceof D;return a===!1?null===(n=I(e,t))?f:new D(n,!1):(t===!1?o.dom=e:(r(e)?i(n=D.loadHTML(N.html(e)))&&(o.dom=n[0]):o.dom=Q(I(e)),t!==h&&t!==f&&o.appendTo(t)),void 0)}}}),D.united=b(function(){var e=P.unite(D);return{f:{extend:g(function(e,t){this.prototype[e]=t},{each:[n,i]})},k:function(t,n){var i=this,o=new e,a=i instanceof D.united;if(r(t)){var s;s=a?D.loadHTML(N.html(t)):D.query(t,n),m(s,function(e,t){o._(D(t))},!0)}else{var u=D.get(t);null!==u&&o._(D(a?D.clone(u):u))}return o}}}),D.eventFix=b({f:{keyEvents:"keydown keypress keyup".split(" "),mouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick contextmenu".split(" "),mouse:function(e){var t=e.button;if(e.which==h&&t!=h&&(e.which=1&t?1:2&t?3:4&t?2:0),e.pageX===h&&e.clientX!==h){var r=e.target.ownerDocument||l,n=r.documentElement,i=r.body;e.pageX=e.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)}},keyboard:function(e){e.which==f&&(e.which=e.charCode!=f?e.charCode:e.keyCode)}},k:function(e){var t=e.target||e.srcElement;!e.target&&e.srcElement&&(t=e.target=e.srcElement),t&&3===t.nodeType&&(e.target=t.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===t?e.toElement:e.fromElement),e.metaKey===h&&(e.metaKey=!1),e.stopPropagation||(e.stopPropagation=function(){e.cancelBubble=!0}),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1})}}),D.cssHook=function(){var e=/alpha\([^)]*\)/i,n=/opacity\s*=\s*([^)]*)/,i="opacity",o="filter",s="backgroundPosition",u=P.init.css,c=D.getStyle,l=D.setStyle,f={width:["paddingRight","paddingLeft","borderRightWidth","borderLeftWidth"],height:["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"]},d={"float":function(e,t){var r=e.style,n=u.cssFloat?"cssFloat":"styleFloat";return t===h?r[n]||c(e,"float")||c(e,n):(r[n]=t,void 0)},outerWidth:function(e,t){return this.sizeControl("width",f.width,t)},outerHeight:function(e,t){return this.sizeControl("height",f.height,t)},innerWidth:function(e,t){return this.sizeControl("width",["paddingRight","paddingLeft"],t)},innerHeight:function(e,t){return this.sizeControl("height",["paddingTop","paddingBottom"],t)},opacity:function(t,r){var a=t.style,s=u[i],l=t.currentStyle;if(r===h)return s?c(t,i):n.test((l?l[o]:a[o])||"")?.01*float(RegExp.$1)+"":"1";if(s)a[i]=r;else{var f=N.hooks[i](r).value,d=l&&l[o]||a.filter||"";if(a.zoom=1,(f>=1||""===f)&&""===d.replace(e,"").trim()&&a.removeAttribute&&(a.removeAttribute(o),""===f||l&&!l[o]))return;a.filter=e.test(d)?d.replace(e,f):d+" "+f}}};if(d[s]=function(e,t){return t===h?(a(t=c(e,s))&&(t=c(e,s+"X")+" "+c(e,s+"Y")),t):(l(e,s,t),void 0)},m("X Y",function(e,t){var r=s+t;d[r]=function(t,n){if(n===h){if(a(n=c(t,r))){var i=c(t,s);return i==h?0:i.split(" ")[e]}return n}l(t,r,n)}}),!u.inlineBlock){var p="inline-block";d.display=function(e,t){var r=e.style;return t===h?(t=c(e,"display"),"inline"===t&&r.zoom?p:t):(t===p?(r.zoom=1,r.display="inline"):r.display=t,void 0)}}return m("width height",function(e,n){var i=n.capitalize();d[n]=function(o,a){if(a===h){if(D.isWindow(o))return o.document.documentElement["client"+i];if(9===o.nodeType){var s=o.documentElement;return Math.max(o.body["scroll"+i],s["scroll"+i],o.body["offset"+i],s["offset"+i],s["client"+i])}var u=c(o,n);if(r(u)&&("auto"===u||"%"===u.substr(-1))){var d=0==e?o.offsetWidth:o.offsetHeight;return d&&(u=d-this.sizeControl(null,f[n])),u||0}return float(u||0)||0}l(o,n,t(a)?a+"px":a)}}),m("left top right bottom marginTop marginLeft marginRight marginBottom lineHeight borderRightWidth borderLeftWidth borderTopWidth borderBottomWidth paddingLeft paddingRight paddingTop paddingBottom",function(e,r){d[r]=function(e,n){return n===h?float(c(e,r)||0)||0:(t(n)&&(n+="px"),l(e,r,n),void 0)},D.extend(r,function(e){var t=this;return e===h?t.css(r):t.css(r,e)})}),d}(),D.attrHook=function(){var e={};return m({"class":"className",href:"href",id:"id",name:"name",type:"type"},function(t,r){e[t]=function(e,t){return t===h?e[r]:(e[r]=t,void 0)}}),e.style=function(e,t){return t===h?e.style.cssText:(e.style.cssText=t,void 0)},e}(),D.eventHook=function(){var e={},t=D(c),r=0,n=0,i=!1;return P.init.on.focusin||m({focusin:"focus",focusout:"blur"},function(t,r){e[t]={name:r,useCapture:!0,check:function(){return!0}}}),m({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,r){e[t]={name:r,check:function(e){var t=e.relatedTarget;return!t||!D.contains(t,this)}}}),e.resize={name:"resize",check:function(){return t.is(this)?i:!0}},D.addListener(t.dom,"resize",function(){var e=t.width(),o=t.height();e===r&&o===n?i=!1:(i=!0,r=e,n=o)}),e}(),P.sound=b({e:{},f:{play:function(){}},j:{load:function(){},play:function(){},pause:function(){},stop:function(){}},k:function(){}}),W=P.ui=P.module({f:{status:{zIndex:1,index:0,resize:0,drag:0},models:{},modules:{},exist:function(e){return!!W.modules[e]},model:function(e,t){return y(e,t,W)
},create:function(e,t){if(r(e)){var i=W.modules[e];return i?new i(t||{}):!1}return n(e)?m(e,function(e,t){return n(t)&&t.ui?W(t.ui,t):r(t)?W(t,{}):void 0},!0):f},module:function(t,n){if(r(t)){if(n===h)return W.modules[t]||f}else n=t;r(t)&&e(n)&&(n=n.call(P,W)),n=v({},n);var i,o=newDom(n.nodeName||"div").attr("tabindex",1),a=[],s="prototype",u="objectName";return n.DOMTree,n.__constructor__=function(e){var r=this,n=r.init_opts(e),i=r[0]=o.clone();(r[u]=n[u])||(r[u]=t+ ++W.status.index),"on"in n&&r.on(n.on),r.emit("create");for(var s=a.length-1;s>=0&&a[s].call(r,r,n,i)!==!1;s--);n.renderTo&&r.renderTo(n.renderTo)},(i=b(t,n,W))===f?i:(i[s].ui=t,i[s].emit=k[s].emit,a=b.property(i,"main",!0),i)},extend:function(e,t){return b.extend(e,t,W)}},k:function(e,t){return t===h&&r(e)?W.modules[e]||f:W.create(e,t)}}),W.module("widget",function(){return{a:P.models.events,c:"create resize visible enable load remove beforeRender render",e:{level:2,parent:f,renderTo:"",objectName:"",width:"auto",height:"auto",fixedLayoutWidth:!1,fixedLayoutHeight:!1,className:"",minWidth:3,minHeight:3,maxWidth:f,maxHeight:f,left:f,top:f,padding:f,enabled:!0,visible:!0,animate:!1,initSize:!0,plugins:0,value:f,validator:"",invalidText:"invalid",cache:!0,contentType:"",layout:f,widget:f,url:f,html:f,iframe:f},h:{init_boxSize:function(){var e=this,t=e.opts,r=e.__Std__,n=t.className;if(r.boxSize||(r.boxSize={}),e.boxSize=r.boxSize[n]?r.boxSize[n]:r.boxSize[n]=e[0].boxSize(),t.padding!==f){var i={},o=t.padding;for(var a in e.boxSize)i[a]="width"!==a||"height"!==a?e.boxSize[a]+2*o:e.boxSize[a]+o;e.boxSize=i}return e},loadContent:function(){var e=this,t=e.opts,n=t.contentType;return""===n?t.html?e.html(t.html):t.url?e.url(t.url):t.iframe?e.iframe(t.iframe):t.widget?e.widget(t.widget):t.layout&&e.layout(t.layout):r(n)&&e[n](t[n]),e}},j:{data:0,boxSize:0,renderState:!1,plugin:g(function(e,t){var n=this,i=n.plugins;return i||(i=n.plugins={}),t===h?i[e]:(r(e)&&!i[e]&&P.plugin.exist(e)&&(i[e]=new P.plugin.modules[e](n,t)),void 0)},{each:[n]}),visible:function(e){var t=this,r=t.opts;return e===h?t.renderState?t[0].visible():!1:(t[0].visible(r.visible=e),t.emit("visible",e))},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){return this[0].focus(),this},blur:function(){return this[0].blur(),this},hasClass:function(e){return this[0].hasClass(e)},addClass:function(e){var t=this;return t[0].addClass(e),t},removeClass:function(e){var t=this;return t[0].removeClass(e),t},toggleClass:function(e,t){var r=this;return r[0].toggleClass(e,t),r},className:function(e){return this.opt("className",e,function(){this[0].className(e)})},minWidth:function(e){return this.opt("minWidth",e)},minHeight:function(e){return this.opt("minHeight",e)},maxWidth:function(e){return this.opt("maxWidth",e)},maxHeight:function(e){return this.opt("maxHeight",e)},valid:function(){return!0},widget:function(e){var t=this,r=t.opts;return e===h?r.widget:(s(e)?e.renderTo(t):n(e)&&e.ui&&(e=W(e.ui,e),s(e)&&e.renderTo(t)),t.emit("load",r.widget=e))},layout:function(e){var t=this,r=t.opts;if(e===h)return r.layout;if(!t.renderState)return r.layout=e,t;if(r.layout&&u(r.layout)&&(t.off("resize",t.updateLayout),r.layout.clear(),r.layout=f),"static"===t[0].css("position")&&t[0].css("position","relative"),u(e))r.layout=e;else{if(!o(e)||!e.ui)return!1;r.layout=W(e.ui,e)}return r.contentType="layout",r.layout.parent(t),t.level(r.layout.level()).on({resize:t.updateLayout,remove:function(){r.layout.clear()}}),t.renderState&&r.layout.render().update(),t.emit("load",r.layout)},iframe:function(t,r){var n=this;return n.opt("iframe",t,function(){var i=newDom("iframe").attr({src:t,frameBorder:"0"}).css({"float":"left",border:0,width:"100%",height:"100%"}).on("load",function(){n.emit("load",i),e(r)&&r.call(n,i)});n.opts.contentType="iframe",n[0].clear().append(i)})},url:function(t,r){var n=this,i=n.opts;return n.opt("url",t,function(){i.contentType="url",z({url:t,cache:i.cache,success:function(t){n[0].html(t),e(r)&&r.call(n,t),n.emit("load",t)}})})},html:function(e){var t=this;return e===h?t[0].html():(t.opts.contentType="html",t[0].html(e),t.emit("load",e))},on:g(function(t,r){var n=this,i="__StdEvents__";if(t===h||!e(r))return n;if(n[i]||(n[i]={}),n.__Std__.events.exist(t)){var o=n[i];o[t]||(o[t]=[]),o[t].push(r)}else n[0].on(t,r);return n},{each:[n,r]}),off:g(function(t,r){var n=this,i="__StdEvents__";if(t===h||!e(r))return n;if(n.__Std__.events.exist(t)){var o=n[i];if(!o||!o[t])return n;r!==h?m(o[t],function(e,n){return n===r?(o[t].remove(e),!1):void 0}):o[t].clear()}else n[0].off(t,r)},{each:[n,r]}),move:function(e,t){var r=this,n=r[0],i=f,o=function(){return i!==f?i:(i=n.offsetParent(),(!i||i.contains("body"))&&(i=D(c)),i)},a=function(e){return e.offsetWidth()||e.width()},s=function(e){return e.offsetHeight()||e.height()};if(t===h){if("cent"===e.substr(0,4)){var u=o(),l=(a(u)-r.width())/2,d=(s(u)-r.height())/2;"central"==e&&(d-=.25*d),n.css({left:l,top:d})}}else n.css({left:e,top:t});return r},left:function(e){var t=this;return e===h?t[0].css("left"):(t[0].css("left",e),t)},top:function(e){var t=this;return e===h?t[0].css("top"):(t[0].css("top",e),t)},opacity:function(e){var t=this;return e===h?t[0].opacity():(t[0].opacity(e),t)},clientWidth:function(e){var r=this,n=r.opts,i=r[0],o=r.boxSize;return e===h?t(n.width)?n.width-o.borderLeftWidth-o.borderRightWidth:i.clientWidth():(t(e)&&(n.width=e+o.borderLeftWidth+o.borderRightWidth,i.width(e-o.paddingLeft-o.paddingRight)),r.emit("resize",e))},clientHeight:function(e){var r=this,n=r.opts,i=r.boxSize;return e===h?t(n.height)?n.height-i.borderTopWidth-i.borderBottomWidth:r[0].clientHeight():(t(e)&&(n.height=e-i.borderTopWidth-i.borderBottomWidth,r[0].height(e-i.paddingTop-i.paddingBottom)),r.emit("resize",e))},width:function(e){var r=this,n=r.opts,i=r.boxSize;if(e===h)return t(n.width)?n.width:r[0].width()+i.width;if(!r.renderState)return n.width=e,r;if(t(e)){var o=n.minWidth,a=n.maxWidth;o&&o>e&&(e=o),a&&e>a&&(e=a),r[0].width(e-i.width)}return r.emit("resize",n.width=e)},height:function(e){var r=this,n=r.opts,i=r.boxSize;if(e===h)return t(n.height)?n.height:r[0].height()+i.height;if(!r.renderState)return n.height=e,r;if(t(e)){var o=n.minHeight,a=n.maxHeight;o&&o>e&&(e=o),a&&e>a&&(e=a),r[0].height(e-i.height)}return r.emit("resize",n.height=e)},size:function(e,t){var r=this;if(e===h)return{width:r.width(),height:r.height()};if(t===h){if(n(e))return r.size(e.width,e.height)}else r.width(e).height(t);return r},enabled:function(e){var t=this;return t.opt("enabled",e,function(){t.toggleClass("disabled",!e).emit("enable",e)})},updateLayout:function(){var e=this,t=e.opts;return u(t.layout)&&t.layout.update(),e},beforeRender:function(){return this.emit("beforeRender")},render:function(){var e=this,t=e.opts;return e.renderState?e:(e.beforeRender(t),e.renderState=!0,e.init_boxSize(),t.initSize&&(e.width(t.width),e.height(t.height)),t.left!==f&&e.left(t.left),t.top!==f&&e.top(t.top),t.visible===!1&&e.visible(!1),t.enabled===!1&&e.enabled(!1),t.plugins&&e.plugin(t.plugins),t.contentType!==f&&e.loadContent(),e.emit("render"))},appendTo:function(e){return this[0].appendTo(e),this},renderTo:function(e){var t=this;return t.opt("renderTo",e,function(){t.appendTo(e),t.renderState||t.render()})},remove:function(t){var r=this;if(t===h){switch(m(r.plugins,function(t,r){e(r.remove)&&r.remove()}),r.opts.contentType){case"widget":break;case"layout":}r[0].remove(),r.emit("remove"),r.renderState=-1}return r}},k:function(e,t,r){t.className&&e[0].className("StdUI "+t.className),t.padding!==f&&r.css("padding",t.padding+"px"),t.css&&r.css(t.css),t.appendTo?e.appendTo(t.appendTo):t.prependTo&&e.prependTo(t.prependTo)},l:function(e,t){m("parent level value validator invalidText",function(e,r){t[r]=function(e){return this.opt(r,e)}})}}}),P.ui.module("locker",{b:"widget",e:{level:5,opacity:.4,background:"#000000",cursor:"default",position:"absolute",visible:!1},g:{render:function(){this.opts.visible&&this._resize()},visible:function(e){e===!0&&this.resize()},remove:function(){D(c).off("resize",this._resize)}},j:{resize:function(){var e=this,t=e[0].offsetParent();return e.visible()?(t.contains("body")&&(t=D(c)),e[0].css({left:0,top:0,width:t.offsetWidth()||t.width(),height:t.offsetHeight()||t.height()}),e):e},cursor:function(e){return this.opt("cursor",e,function(){this[0].css("cursor",e)})}},k:function(e,t,r){r.css({opacity:t.opacity,background:t.background,cursor:t.cursor,overflow:"hidden",position:t.position,zIndex:++W.status.zIndex}),D(c).on("resize",e._resize=function(){e.resize.call(e)})}}),W.module("stretch",{b:"widget",e:{level:5}}),W.module("spacing",{b:"widget",e:{level:1,minHeight:1,minWidth:1,height:2,width:2}}),W.module("layoutItem",{b:"widget",e:{item:0,level:1,type:"widget",arrangement:"horizontal",initSize:!1},g:{render:function(){var e=this,t=e.opts,r=t.type,n=t.item;if(n){if(n.render(),"widget"==r)t.width=n.width(),t.height=n.height(),t.minWidth=n.minWidth(),t.minHeight=n.minHeight();else if("layout"==r){var i=n.sizeInfo();t.width=i.width,t.height=i.height,t.minWidth=i.minWidth,t.minHeight=i.minHeight}e[0].cssText("position:absolute;width:"+t.width+"px;height:"+t.height+"px")}},width:function(e){var t=this,r=t.opts;"widget"==r.type?r.item.width(e):"layout"==r.type&&r.item.update()},height:function(e){var t=this,r=t.opts;"widget"==r.type?r.item.height(e):"layout"==r.type&&r.item.update()},remove:function(){this.opts.item.remove()}},h:{init_boxSize:function(){this.boxSize={width:0,height:0,paddingLeft:0,paddingTop:0}}},j:{fixedLayoutWidth:function(){return this.opts.item.opts.fixedLayoutWidth},fixedLayoutHeight:function(){return this.opts.item.opts.fixedLayoutHeight},type:function(e){return this.opt("type",e)},item:function(e){var t=this,r=t.opts,i="";if(e===h)return r.item;if(s(e))i="widget",e.appendTo(t[0]);else if(u(e))i="layout";else if(n(e)&&e.ui){if(e=W(e.ui,e),!e)return f;u(e)?i="layout":(i="widget",e.appendTo(t[0]))}return r.type=i,r.level=e.level(),r.item=e,e.parent(t),t}},k:function(e,t){t.item&&e.item(t.item)}}),W.module("layout",{e:{level:2,spacing:4,parent:f,items:f,fixedLayoutWidth:!1,fixedLayoutHeight:!1},i:{timer:f},h:{arrangement:"vertical"},j:{renderState:!1,parent:function(e){return this.opt("parent",e)},level:function(e){return this.opt("level",e)},spacing:function(e){return this.opt("spacing",e)},fixedLayoutWidth:function(e){return this.opt("fixedLayoutWidth",e)},fixedLayoutHeight:function(e){return this.opt("fixedLayoutHeight",e)},parentWidget:function(){var e,t=this,r=t.parent();return r?s(r)?e=r:u(r)&&(e=r.parentWidget()):e=f,e},append:g(function(e){var t=this;if(a(e))return t;var r=W("layoutItem",{parent:t,arrangement:t.arrangement,item:e});return r?(t.items.push(r),r.level()>t.level()&&t.level(r.level()),t.renderState&&r.renderTo(t.parentWidget()),void 0):t},{each:[i]}),refresh:function(){var e=this;return m(e.items,function(t,r){r.level()>e.level()&&e.level(r.level())}),e},sizeInfo:function(){var e=this,t=0,r=0,n=0,i=0,o=e.items.length,a=e.arrangement;if("horizontal"==a)for(var s=0;o>s;s++){var u=e.items[s];t+=u.width(),u.height()>r&&(r=u.height()),1==u.level()||u.fixedLayoutWidth()?(n+=u.width(),u.height()>i&&(i+=u.height())):(n+=u.minWidth(),u.minHeight()>i&&(i+=u.minHeight())),s>0&&(t+=e.spacing(),n+=e.spacing())}else if("vertical"==a)for(var s=0;o>s;s++){var u=e.items[s],c=u.width(),l=u.height(),f=0,h=0;1==u.level()||u.fixedLayoutHeight()?(f=c,h=l):(f=u.minWidth(),h=u.minHeight()),c>t&&(t=c),f>n&&(n=f),h>l?i+=h:r+=l,s>0&&(r+=e.spacing(),i+=e.spacing())}return{width:t,height:r,minWidth:n,minHeight:i}},parentSize:function(){var e=this,t=e.parent(),r=0,n=0,i=0,o=0;if(s(t)){var a=t.boxSize;r=t.width(),n=t.height(),a&&(i=a.paddingLeft,o=a.paddingTop,r-=a.width,n-=a.height)}return{width:r,height:n,left:i,top:o}},render:function(){var e=this,t=e.parentWidget();return t?(m(e.items,function(e,r){r.renderTo(t)}),e.renderState=!0,e):e},updateLayout:function(){var e=this;return e.parent()&&e.renderState?e:!1},update:function(){var e=this;return e._timer!=f&&(e._timer=clearTimeout(e._timer)),e._timer=setTimeout(function(){e.updateLayout(),e._timer=f},0),e},clear:function(){var e=this,t=e.items;return m(t,function(e,t){t.remove()}),t.clear(),e},remove:function(e){var r=this;if(e===h)r[0].remove(),r.clear().emit("remove");else{var i=r.items;t(e)?(i[e].remove(),i[e]=f,i.remove(e)):n(e)&&m(i,function(e,t){return t.remove(),i.remove(e),!0}),r.update()}return r}},k:function(e,t){e.items=[],i(t.items)&&e.append(t.items)}}),W.module("HBoxLayout",{b:"layout",g:{updateLayout:function(){for(var e=this,t=e.parentSize(),r=t.width,n=t.height,i=[],o=0,a=t.left,s=e.items.length,u=0;s>u;u++){var c=e.items[u],l=c.level();1==l||2==l&&l<e.level()||c.fixedLayoutWidth()?o+=c.width():i.push(u),u>0&&(o+=e.spacing())}for(var f=r-o,u=0,h=i.length;h>u;u++){var c=e.items[i[u]],d=f/(i.length-u),p=c.minWidth();p>d&&(d=p),f-=d,c.width(d)}for(var u=0;s>u;u++){var c=e.items[u];c.level()>3||"layout"==c.type()?c.height(n):c.top((n-c.height())/2),c.left(a),a+=c.width()+e.spacing()}}},j:{arrangement:"horizontal"}}),W.module("VBoxLayout",{b:"layout",g:{updateLayout:function(){for(var e=this,t=e.parentSize(),r=t.width,n=t.height,i=[],o=0,a=t.top,s=e.spacing(),u=e.items.length,c=0;u>c;c++){var l=e.items[c],f=l.level();1!=f&&l.width(r),f>3&&f==e.level()&&!l.fixedLayoutHeight()?i.push(c):o+=l.height(),c>0&&(o+=s)}for(var h=n-o,c=0,d=i.length;d>c;c++){var l=e.items[i[c]],p=h/(d-c),m=l.minHeight();m>p&&(p=m),h-=p,l.height(p)}for(var c=0;u>c;c++){var l=e.items[c],p=l.height();if(h>0){var v=h/(u+1);v>0&&(a+=v)}l.top(a),a+=p+s}}},j:{arrangement:"vertical"}}),W.module("HArrayLayout",{b:"layout",g:{updateLayout:function(){for(var e=this,t=e.parentSize(),r=t.height,n=t.left,i=e.spacing(),o=e.items.length,a=0;o>a;a++){var s=e.items[a];if("layout"==s.type())switch(s.item().ui){case"HArrayLayout":case"VArrayLayout":s.item().update();break;default:s.height(r)}s.left(n),n+=s.width()+i}}},j:{arrangement:"horizontal"}}),W.module("VArrayLayout",{b:"layout",g:{updateLayout:function(){for(var e=this,t=e.parentSize(),r=t.width,n=t.top,i=e.spacing(),o=e.items.length,a=0;o>a;a++){var s=e.items[a];if("layout"==s.type())switch(s.item().ui){case"HArrayLayout":case"VArrayLayout":s.item().update();break;default:s.width(r)}s.top(n),n+=s.height()+i}}},j:{arrangement:"vertical"}}),P.plugin=b({f:{models:{},modules:{},exist:function(e){return P.plugin.modules[e]?!0:!1},model:function(e,t){return y(e,t,P.plugin)},module:function(t,n){if(r(t)){if(n===h)return P.plugin.modules[t]||f}else n=t;r(t)&&e(n)&&(n=n.call(P,P.plugin)),n=v({},n);var i,o=[],a="prototype";return n.__constructor__=function(e,t){var r=this,n=r.init_opts(t);r.widget=e;for(var i=o.length-1;i>=0&&o[i].call(r,r,n,e)!==!1;i--);},(i=b(t,n,P.plugin))===f?i:(i[a].pluginName=t,m("on off once emit",function(e,t){i[a][t]=k[a][t]}),o=b.property(i,"main",!0),i)}},k:function(e){return P.plugin.modules[e]||f}}),P.plugin.module("drag",{c:"dragStart dragStop",e:{x:!0,y:!0,opacity:.7,handle:0,draggable:!0},j:{draggable:function(e){return this.opt("draggable",e)}},k:function(e,t,r){var n,i,o,a,u,f,h,d,p,m,v=D(l),g=r[0].offsetParent(),y=0,b=1;t.handle||(t.handle=r),m=s(t.handle)?t.handle[0]:D(t.handle);var k=function(e){1!=W.status.resize&&(v.on({mousemove:w,mouseup:x}),y=1,b=r.opacity(),n=r.width(),i=r.height(),u=e.pageX-r[0].offsetLeft()-(int(g.css("borderLeftWidth")||0)||0),f=e.pageY-r[0].offsetTop()-(int(g.css("borderTopWidth")||0)||0),g.is("body")?(h=D(c).width(),d=D(c).height()):(h=g.clientWidth(),d=g.clientHeight()),r.emit("dragStart",{left:e.pageX-u,top:e.pageY-f}))},x=function(e){v.off({mousemove:w,mouseup:x}),p&&p.remove(),0!=y&&1==W.status.drag&&(W.status.drag=0,r.opacity(b).emit("dragStop",{left:e.pageX-u,top:e.pageY-f}))},w=function(e){if(1==W.status.resize)return y=0,x(e),!1;if(1==y){var s=r[0].css("position");"absolute"!==s&&"fixed"!==s&&r[0].css("position","absolute"),r.opacity(t.opacity),p=W("locker",{renderTo:"body",cursor:"move",opacity:0,visible:!0}),y=2,W.status.drag=1}return 2==y&&(t.x&&(o=e.pageX-u,0>o?o=0:o+n>h&&(o=h-n),r.left(o)),t.y&&(a=e.pageY-f,0>a?a=0:a+i>d&&(a=d-i),r.top(a))),!1};m.on("mousedown",function(e){1==e.which&&1==t.draggable&&(e.preventDefault(),k(e))})}}),P.plugin.module("drop",{e:{},j:{},k:function(){}}),P.plugin.module("resize",{e:{top:!0,right:!0,bottom:!0,left:!0,opacity:.35,resizable:!0,className:"",minWidth:10,minHeight:10,border:"1px dotted #24415D",background:"rgb(90,176,249)"},c:"resizeStart resizeStop",j:{resizable:function(e){return this.opt("resizable",e)}},k:function(e,t,r){var n,i,o,a,s,u,f,h,d,p,m,v,g,y,b,k,x,w=D(l),_=D(c),S=r[0].offsetParent(),T=0,C=0,F=0,A=r[0].css("cursor"),z="";"HTML"===S.nodeName()&&(S=D(l.body));var E=function(){s=r[0].offset(),p=r.width(),m=r.height(),v=s.x,g=s.y},L=function(e){return E(),S.is("body")?(h=_.width(),d=_.height()):(h=S.offsetWidth(),d=S.offsetHeight()),T=r.minWidth(),C=r.minHeight(),p=r.width(),m=r.height(),y=e.pageX,b=e.pageY,k=r[0].offsetLeft(),x=r[0].offsetTop(),i=newDiv(t.className).css({position:"absolute",opacity:t.opacity,border:"1px dotted #24415D",background:t.background}).appendTo(S),a=i.boxSize(),o=S.boxSize(),u=o.borderTopWidth+o.borderBottomWidth,f=o.borderLeftWidth+o.borderRightWidth,i.css({width:p-a.width,height:m-a.height,left:k,top:x,zIndex:W.status.zIndex+2,cursor:z}),w.on({mousemove:N,mouseup:H}),n=W("locker",{renderTo:"body",cursor:z,opacity:0,visible:!0}),!1},H=function(){W.status.resize=0;var e=i.offsetWidth(),o=i.offsetHeight(),a=i.offsetLeft(),s=i.offsetTop(),u={width:e,height:o,left:a,top:s};r.size(e,o).left(a).top(s),n.remove(),i.remove(),w.off({mousemove:N,mouseup:H}),E(),t.on&&t.on.stop&&t.on.stop(u)},N=function(e){var r=e.pageX,n=e.pageY,o=function(){var e=x+n-b,r=m+b-n;r<t.minHeight||C>r||(0>e&&(e=0,r=m+x),i.css({top:e,height:r-a.height}))},s=function(){var e=p+r-y;e<t.minWidth||T>e||(e+k>h+u&&(e=h-k-u),i.width(e-a.width))},c=function(){var e=m+n-b;e<t.minHeight||C>e||(e+x>d+f&&(e=d-x-f),i.height(e-a.height))},l=function(){var e=k+r-y,n=p+y-r;n<t.minWidth||T>n||(0>e&&(e=0,n=p+k),i.css({left:e,width:n-a.width}))};switch(F){case 1:o();break;case 2:s();break;case 3:c();break;case 4:l();break;case 5:o(),l();break;case 6:o(),s();break;case 7:c(),s();break;case 8:c(),l()}},B=function(e){if(t.resizable&&1!=W.status.resize&&0==W.status.drag){var n=F,i="",o=e.pageX,a=e.pageY,s=t.top&&a>=g&&g+6>a,u=t.right&&o>v+p-6&&v+p>o,c=t.bottom&&a>g+m-6&&g+m>a,l=t.left&&o>=v&&v+6>o;s&&l?5!=F&&(F=5,i="nw-resize"):s&&u?6!=F&&(F=6,i="ne-resize"):c&&u?7!=F&&(F=7,i="se-resize"):c&&l?8!=F&&(F=8,i="sw-resize"):s?1!=F&&(F=1,i="n-resize"):u?2!=F&&(F=2,i="e-resize"):c?3!=F&&(F=3,i="s-resize"):l?4!=F&&(F=4,i="w-resize"):0!=F&&(F=0,i=A),n!=F&&(z=i,r[0].css("cursor",i))}},M=function(e){1==e.which&&0!=F&&(e.preventDefault(),E(),L(e),W.status.resize=1)},P=0;return r.on("mouseover",function(){E(),0==P&&(P=1,r.on({mousemove:B,mousedown:M}))}),!1}}),P.plugin.module("contextMenu",{e:{ui:"menu",items:f,width:"auto",renderTo:"body"},j:{remove:function(){var e=this,t=e.menu;return s(t)&&t.remove(),e}},k:function(e,t,r){var n,i=!1,o=D(c),a=D(t.renderTo),u=g(!1),h=function(){n.visible()&&n.hide().off({mousedown:u,click:h})},d=function(){i=!0,n=e.menu=W(t.ui,{renderTo:t.renderTo,items:t.items,visible:!1,width:t.width,css:{position:"absolute"}})};a!==f&&r[0].on("contextmenu",function(e){if(0==i&&d(),s(n)){n.show();var t=e.pageX,r=e.pageY,c=n.width(),f=n.height(),p=a.offsetWidth(),m=a.offsetHeight();return a.is("body")&&(p=o.width(),m=o.height()),r+f>m&&(r=m-f),t+c>p&&(t=p-c),n[0].css({left:t,top:r}).on({mousedown:u,click:h}),D(l).once("mousedown",h),!1}})}}),P.plugin.module("popup",{e:{},j:{},k:function(){}}),N({".Std_unselect":function(){var e="user-select",t={};return m(P.init.platformPrefix,function(r,n){t[n+e]="none"}),t[e]="none",t}(),".Std_wordwrap":{wordBreak:"break-all",wordWrap:"break-word"},".Std_wordnowrap":{overflow:"hidden",wordBreak:"keep-all",whiteSpace:"nowrap",textOverflow:"ellipsis"}}),P.include=b({f:{safe:!0,loader:new E,basePath:function(e){return this.loader.basePath(e),this},on:function(e,t){return this.loader.on(e,t),this}},k:function(){var e=P.include.loader;e.safe=P.include.safe,e.include.apply(e,arguments)}}),M=P.main=b({f:{state:!1,callbacks:{}},k:g(function(t,r){var n=P.include.loader,i=M.state,o=M.callbacks,a=function(){M.state=!0;for(var e=0;10>e;e++)m(o[e],function(e,t){t.call(P,P)})};t===h?0==n.length||i||n.success+n.failed==n.length?a():n.once("complete",a):e(t)&&(i&&t.call(P,P),o[r=r===h?9:r]||(o[r]=[]),o[r].push(t))}),l:function(){function e(){r.off("load",t),n.off(o?a:s,t)}function t(){(o||c.event&&"load"===c.event.type||"complete"===l.readyState)&&(e(),d.dom.enableScript&&D.united("script").each(function(e,t){D.behaviorScript(t.dom,!1)}),M(),n.emit("ready"),i=!0)}var r=D(c),n=D(l),i=!1,o=l.addEventListener,a="DOMContentLoaded",s="readystatechange";if("complete"==l.readyState)return t();if(o)n.on(a,t),r.on("load",t);else{n.on(s,t),r.on("load",t);var u=!1;try{u=c.frameElement==f&&l.documentElement}catch(h){}u&&u.doScroll?function p(){if(!i){try{u.doScroll("left")}catch(e){return g.exec(p,30)}t()}}():t()}}})}(isFunction=function(e){return"function"==typeof e},isNumber=function(e){return"number"==typeof e},isString=function(e){return"string"==typeof e},isObject=function(e){return"object"==typeof e&&null!==e},isArray=function(e){return e instanceof Array},isPlainObject=function(e){if(!isObject(e)||e.nodeType||e===window)return!1;var t,r={}.hasOwnProperty;try{if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}for(t in e)if(!r.call(e,t))return!1;return!0},isEmpty=function(e){if(null===e||void 0===e)return!0;if(isObject(e)&&!isArray(e)){for(var t in e)return!1;return!0}return 0===e.length},isWidget=function(e){return e&&e instanceof Std.ui.modules.widget},isLayout=function(e){return e&&e instanceof Std.ui.modules.layout},window,document,null);